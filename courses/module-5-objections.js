class CourseModule5 extends HTMLElement {
    connectedCallback() {
        this.attachShadow({ mode: 'open' });
        this.render();
        this.initializeComponent();
    }
    render() {
        const styles = `@import url('https://fonts.googleapis.com/css2?family=DM+Serif+Display&family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap');:host{display:block;--font-display:'DM Serif Display',Georgia,serif;--font-body:'Plus Jakarta Sans',sans-serif;--bg-primary:#0a1628;--bg-secondary:#142238;--bg-tertiary:#1e3a5f;--text-primary:#f9fafb;--text-secondary:#d1d5db;--text-muted:#9ca3af;--border-color:#374151;--teal:#0d9488;--teal-dark:#0a766c;--teal-light:rgba(13,148,136,0.2);--gold:#d4a853;--green:#10b981;--green-light:rgba(16,185,129,0.2);--red:#ef4444;--red-light:rgba(239,68,68,0.2)}*{margin:0;padding:0;box-sizing:border-box}.wrapper{font-family:var(--font-body);background:var(--bg-primary);color:var(--text-secondary);line-height:1.7}.progress-container{background:var(--bg-secondary);border-bottom:1px solid var(--border-color);padding:1rem 1.5rem}.progress-wrapper{max-width:900px;margin:0 auto}.progress-header{display:flex;justify-content:space-between;margin-bottom:0.5rem}.progress-label{font-size:0.85rem;font-weight:600;color:var(--text-primary)}.progress-text{font-size:0.85rem;color:var(--text-muted)}.progress-bar{height:8px;background:var(--bg-tertiary);border-radius:10px;overflow:hidden}.progress-fill{height:100%;background:linear-gradient(90deg,var(--teal),var(--gold));border-radius:10px;transition:width 0.5s;width:0%}main{max-width:900px;margin:0 auto;padding:2rem 1.5rem 4rem}.module-header{margin-bottom:2rem}.breadcrumb{display:flex;align-items:center;gap:0.5rem;font-size:0.85rem;color:var(--text-muted);margin-bottom:1rem;flex-wrap:wrap}.breadcrumb a{color:var(--teal);text-decoration:none}.breadcrumb a:hover{text-decoration:underline}.module-title{font-family:var(--font-display);font-size:clamp(1.75rem,5vw,2.5rem);color:var(--text-primary);margin-bottom:0.5rem}.module-description{font-size:1.1rem;color:var(--text-secondary)}.topic-nav{display:flex;gap:0.5rem;margin-bottom:2rem;overflow-x:auto;padding-bottom:0.5rem;-webkit-overflow-scrolling:touch}.topic-tab{flex-shrink:0;padding:0.6rem 1rem;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px;font-size:0.85rem;font-weight:500;color:var(--text-secondary);cursor:pointer;transition:all 0.3s;display:flex;align-items:center;gap:0.4rem;font-family:var(--font-body)}.topic-tab:hover{border-color:var(--teal);color:var(--teal)}.topic-tab.active{background:var(--teal);border-color:var(--teal);color:white}.topic-tab.completed{background:var(--green-light);border-color:var(--green);color:var(--green)}.topic-content{display:none;animation:fadeIn 0.4s}.topic-content.active{display:block}@keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.lesson-card{background:var(--bg-secondary);border-radius:16px;padding:2rem;margin-bottom:2rem;border:1px solid var(--border-color)}.lesson-card h2{font-family:var(--font-display);font-size:1.5rem;color:var(--text-primary);margin-bottom:1.5rem}.lesson-card h3{font-size:1.1rem;color:var(--text-primary);margin:1.5rem 0 0.75rem}.lesson-card p{margin-bottom:1rem}.lesson-card ul,.lesson-card ol{margin:1rem 0 1rem 1.5rem}.lesson-card li{margin-bottom:0.5rem}.key-point{background:var(--teal-light);border-left:4px solid var(--teal);padding:1rem 1.25rem;border-radius:0 10px 10px 0;margin:1.5rem 0}.key-point strong{color:var(--teal);display:block;margin-bottom:0.25rem}.tip-box{background:var(--bg-tertiary);border-radius:10px;padding:1rem 1.25rem;margin:1.5rem 0;display:flex;gap:0.75rem}.tip-box svg{width:24px;height:24px;fill:var(--gold);flex-shrink:0}.quiz-section{background:var(--bg-secondary);border-radius:16px;padding:2rem;border:1px solid var(--border-color)}.quiz-header{display:flex;align-items:center;gap:0.75rem;margin-bottom:1.5rem}.quiz-icon{width:48px;height:48px;background:var(--teal-light);border-radius:12px;display:flex;align-items:center;justify-content:center}.quiz-icon svg{width:24px;height:24px;fill:var(--teal)}.quiz-title{font-family:var(--font-display);font-size:1.25rem;color:var(--text-primary)}.quiz-subtitle{font-size:0.9rem;color:var(--text-muted)}.question{margin-bottom:1.5rem;padding-bottom:1.5rem;border-bottom:1px solid var(--border-color)}.question:last-of-type{border-bottom:none;margin-bottom:0;padding-bottom:0}.question-text{font-weight:600;color:var(--text-primary);margin-bottom:1rem}.question-number{color:var(--teal);margin-right:0.5rem}.options{display:flex;flex-direction:column;gap:0.5rem}.option{display:flex;align-items:center;gap:0.75rem;padding:1rem;background:var(--bg-tertiary);border:2px solid transparent;border-radius:10px;cursor:pointer;transition:all 0.2s}.option:hover{border-color:var(--teal)}.option.selected{border-color:var(--teal);background:var(--teal-light)}.option.correct{border-color:var(--green);background:var(--green-light)}.option.incorrect{border-color:var(--red);background:var(--red-light)}.option-radio{width:20px;height:20px;border:2px solid var(--text-muted);border-radius:50%;flex-shrink:0;transition:all 0.2s;position:relative}.option.selected .option-radio{border-color:var(--teal);background:var(--teal)}.option.correct .option-radio{border-color:var(--green);background:var(--green)}.option.incorrect .option-radio{border-color:var(--red);background:var(--red)}.option.selected .option-radio::after,.option.correct .option-radio::after,.option.incorrect .option-radio::after{content:'';position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:8px;height:8px;background:white;border-radius:50%}.option-text{color:var(--text-secondary)}.feedback{display:none;padding:1rem;border-radius:10px;margin-top:0.75rem;font-size:0.9rem}.feedback.show{display:block}.feedback.correct{background:var(--green-light);color:var(--green)}.feedback.incorrect{background:var(--red-light);color:var(--red)}.quiz-results{display:none;text-align:center;padding:2rem 0}.quiz-results.show{display:block}.results-icon{width:80px;height:80px;border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto 1.5rem}.results-icon.pass{background:var(--green-light)}.results-icon.fail{background:var(--red-light)}.results-icon svg{width:40px;height:40px}.results-icon.pass svg{fill:var(--green)}.results-icon.fail svg{fill:var(--red)}.results-title{font-family:var(--font-display);font-size:1.5rem;color:var(--text-primary);margin-bottom:0.5rem}.results-score{font-size:1.1rem;color:var(--text-secondary);margin-bottom:1.5rem}.btn{display:inline-flex;align-items:center;justify-content:center;gap:0.5rem;padding:0.875rem 1.75rem;border-radius:10px;font-weight:600;font-size:1rem;cursor:pointer;transition:all 0.3s;border:none;text-decoration:none;font-family:var(--font-body)}.btn-primary{background:linear-gradient(135deg,var(--teal),var(--teal-dark));color:white}.btn-primary:hover{transform:translateY(-2px)}.btn-secondary{background:var(--bg-tertiary);color:var(--text-primary);border:1px solid var(--border-color)}.btn-secondary:hover{border-color:var(--teal);color:var(--teal)}.btn svg{width:20px;height:20px;fill:currentColor}.quiz-actions{display:flex;gap:1rem;margin-top:1.5rem;flex-wrap:wrap}.nav-buttons{display:flex;justify-content:space-between;gap:1rem;margin-top:2rem;padding-top:2rem;border-top:1px solid var(--border-color)}.final-quiz-intro{text-align:center;padding:3rem 1rem}.final-quiz-intro h2{font-family:var(--font-display);font-size:2rem;color:var(--text-primary);margin-bottom:1rem}.final-quiz-intro p{color:var(--text-secondary);margin-bottom:2rem;max-width:500px;margin-left:auto;margin-right:auto}.final-quiz-stats{display:flex;justify-content:center;gap:2rem;margin-bottom:2rem;flex-wrap:wrap}.stat-item{text-align:center}.stat-value{font-family:var(--font-display);font-size:2rem;color:var(--teal)}.stat-label{font-size:0.85rem;color:var(--text-muted)}.hidden{display:none!important}@media(max-width:640px){.progress-container{padding:0.875rem 1rem}main{padding:1.5rem 1rem 3rem}.lesson-card,.quiz-section{padding:1.5rem;border-radius:12px}.topic-tab{padding:0.5rem 0.75rem;font-size:0.8rem}.nav-buttons{flex-direction:column}.nav-buttons .btn,.quiz-actions .btn{width:100%}.quiz-actions{flex-direction:column}}`;
        var infoIcon='<svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/></svg>';
        var quizIcon='<svg viewBox="0 0 24 24"><path d="M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/></svg>';
        var checkIcon='<svg viewBox="0 0 24 24"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>';
        var arrowRight='<svg viewBox="0 0 24 24"><path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"/></svg>';
        var arrowLeft='<svg viewBox="0 0 24 24"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>';
        this.shadowRoot.innerHTML='<style>'+styles+'</style>'+this.getHTML(infoIcon,quizIcon,checkIcon,arrowRight,arrowLeft);
    }
    getHTML(infoIcon,quizIcon,checkIcon,arrowRight,arrowLeft){
        return '<div class="wrapper"><div class="progress-container"><div class="progress-wrapper"><div class="progress-header"><span class="progress-label">Module 5: Handling Objections</span><span class="progress-text" id="progressText">0% Complete</span></div><div class="progress-bar"><div class="progress-fill" id="progressFill"></div></div></div></div><main><div class="module-header"><div class="breadcrumb"><a href="https://www.opticalowners.com">Home</a><span>></span><a href="https://www.opticalowners.com/training">Sales Techniques</a><span>></span><span>Module 5</span></div><h1 class="module-title">Module 5: Handling Objections</h1><p class="module-description">Master the art of turning customer hesitation into confidence. Learn proven techniques to address concerns with empathy and skill, moving customers toward a positive decision.</p></div><div class="topic-nav" id="topicNav"><button class="topic-tab active" data-topic="1">1. Understanding</button><button class="topic-tab" data-topic="2">2. LAER Framework</button><button class="topic-tab" data-topic="3">3. Price Objections</button><button class="topic-tab" data-topic="4">4. Common Objections</button><button class="topic-tab" data-topic="5">5. When to Let Go</button><button class="topic-tab" data-topic="final">Final Quiz</button></div>'+this.getTopic1HTML(infoIcon,quizIcon,checkIcon,arrowRight,arrowLeft)+this.getTopic2HTML(infoIcon,quizIcon,checkIcon,arrowRight,arrowLeft)+this.getTopic3HTML(infoIcon,quizIcon,checkIcon,arrowRight,arrowLeft)+this.getTopic4HTML(infoIcon,quizIcon,checkIcon,arrowRight,arrowLeft)+this.getTopic5HTML(infoIcon,quizIcon,checkIcon,arrowRight,arrowLeft)+this.getFinalQuizHTML(quizIcon,checkIcon,arrowRight,arrowLeft)+'</main></div>';
    }
    getTopic1HTML(infoIcon,quizIcon,checkIcon,arrowRight,arrowLeft){
        return '<div class="topic-content active" id="topic-1"><div class="lesson-card"><h2>Understanding Objections</h2><p>Objections are not roadblocks - they are road signs. When a customer raises an objection, they are telling you exactly what is standing between them and a purchase. This is valuable information that, handled well, brings you closer to a sale.</p><h3>Why Objections Are Actually Good</h3><p>Many salespeople fear objections, but they are actually positive signals:</p><ul><li><strong>Engagement:</strong> An objecting customer is still talking to you</li><li><strong>Interest:</strong> They would not object if they did not care</li><li><strong>Information:</strong> They are telling you what they need to hear</li><li><strong>Opportunity:</strong> Each handled objection builds trust</li></ul><p>The opposite of an objection is not agreement - it is indifference. A customer who says "I will think about it" and leaves is far harder to help than one who says "That is more than I wanted to spend."</p><div class="key-point"><strong>Key Insight</strong>An objection is often a buying signal in disguise. "It is too expensive" often means "Help me understand why it is worth the price." They are asking you to convince them.</div><h3>Types of Objections</h3><p><strong>Real objections:</strong> Genuine concerns that need to be addressed</p><ul><li>"I am not sure my insurance covers this"</li><li>"I need to check with my spouse first"</li><li>"I am worried about adapting to progressives"</li></ul><p><strong>Smokescreen objections:</strong> Excuses hiding the real concern</p><ul><li>"I need to think about it" (often means price or uncertainty)</li><li>"I am just looking" (might mean they feel pressured)</li><li>"I will come back later" (usually means they will not)</li></ul><h3>The Right Mindset</h3><p>How you view objections shapes how you handle them:</p><ul><li><strong>Do not take it personally:</strong> They are objecting to the situation, not you</li><li><strong>Stay curious:</strong> Seek to understand before responding</li><li><strong>Be patient:</strong> Rushing creates more resistance</li><li><strong>Stay confident:</strong> Your belief in your product matters</li></ul><div class="tip-box">'+infoIcon+'<div><strong>Pro Tip:</strong> Welcome objections with phrases like "I am glad you brought that up" or "That is a great question." This signals that you are not defensive and creates space for dialogue.</div></div></div><div class="quiz-section" data-quiz="1"><div class="quiz-header"><div class="quiz-icon">'+quizIcon+'</div><div><div class="quiz-title">Knowledge Check</div><div class="quiz-subtitle">3 questions</div></div></div><div class="quiz-questions"><div class="question" data-correct="3"><div class="question-text"><span class="question-number">1.</span> Why are objections actually a positive sign?</div><div class="options"><div class="option" data-option="1"><span class="option-radio"></span><span class="option-text">They mean the customer is leaving</span></div><div class="option" data-option="2"><span class="option-radio"></span><span class="option-text">They show the customer is confused</span></div><div class="option" data-option="3"><span class="option-radio"></span><span class="option-text">They show engagement and interest</span></div><div class="option" data-option="4"><span class="option-radio"></span><span class="option-text">They indicate price is too low</span></div></div><div class="feedback"></div></div><div class="question" data-correct="2"><div class="question-text"><span class="question-number">2.</span> "I need to think about it" is typically what type of objection?</div><div class="options"><div class="option" data-option="1"><span class="option-radio"></span><span class="option-text">A real objection</span></div><div class="option" data-option="2"><span class="option-radio"></span><span class="option-text">A smokescreen objection</span></div><div class="option" data-option="3"><span class="option-radio"></span><span class="option-text">A compliment</span></div><div class="option" data-option="4"><span class="option-radio"></span><span class="option-text">A buying signal</span></div></div><div class="feedback"></div></div><div class="question" data-correct="1"><div class="question-text"><span class="question-number">3.</span> What is the best mindset when facing objections?</div><div class="options"><div class="option" data-option="1"><span class="option-radio"></span><span class="option-text">Stay curious and seek to understand</span></div><div class="option" data-option="2"><span class="option-radio"></span><span class="option-text">Argue your point immediately</span></div><div class="option" data-option="3"><span class="option-radio"></span><span class="option-text">Give up and move on</span></div><div class="option" data-option="4"><span class="option-radio"></span><span class="option-text">Take it personally</span></div></div><div class="feedback"></div></div></div><div class="quiz-results"><div class="results-icon">'+checkIcon+'</div><h3 class="results-title">Quiz Complete!</h3><p class="results-score"></p></div><div class="quiz-actions"><button class="btn btn-primary submit-quiz">Check Answers</button><button class="btn btn-secondary retry-quiz hidden">Try Again</button></div></div><div class="nav-buttons"><div></div><button class="btn btn-primary next-topic" data-next="2">Next: LAER Framework '+arrowRight+'</button></div></div>';
    }
    getTopic2HTML(infoIcon,quizIcon,checkIcon,arrowRight,arrowLeft){
        return '<div class="topic-content" id="topic-2"><div class="lesson-card"><h2>The LAER Framework</h2><p>LAER is a proven four-step framework for handling objections effectively. It ensures you fully understand the concern before responding, which dramatically improves your success rate.</p><h3>L - Listen</h3><p>Let the customer fully express their concern without interruption:</p><ul><li>Give them your complete attention</li><li>Do not start formulating your response while they are talking</li><li>Use body language that shows you are engaged</li><li>Let them finish completely - they may reveal the real issue</li></ul><h3>A - Acknowledge</h3><p>Show that you have heard and understand their concern:</p><ul><li>"I understand your concern about the price."</li><li>"That is a completely valid question."</li><li>"I hear you - adapting to new lenses can be a worry."</li><li>"Many customers feel the same way initially."</li></ul><p>Acknowledgment is not agreement - it is validation that their concern matters.</p><div class="key-point"><strong>Key Insight</strong>Skipping the Listen and Acknowledge steps is the biggest mistake in objection handling. When customers do not feel heard, they dig in deeper. Take time to understand before you respond.</div><h3>E - Explore</h3><p>Ask questions to fully understand the objection:</p><ul><li>"Can you tell me more about what is concerning you?"</li><li>"When you say it is too expensive, what are you comparing it to?"</li><li>"What would need to be different for this to work for you?"</li><li>"Is it the total price or the out-of-pocket that is the issue?"</li></ul><p>Exploring uncovers whether this is a real objection or a smokescreen, and gives you the information needed to respond effectively.</p><h3>R - Respond</h3><p>Now - and only now - address the objection:</p><ul><li>Tailor your response to what you learned</li><li>Use specific benefits that address their concern</li><li>Provide evidence or social proof when relevant</li><li>Check if your response addressed their concern</li></ul><p>After responding, confirm: "Does that help address your concern?" or "How does that sound?"</p><div class="tip-box">'+infoIcon+'<div><strong>Pro Tip:</strong> Practice LAER until it becomes automatic. Most salespeople jump straight to "Respond" and wonder why their objection handling fails. The first three steps are where the magic happens.</div></div></div><div class="quiz-section" data-quiz="2"><div class="quiz-header"><div class="quiz-icon">'+quizIcon+'</div><div><div class="quiz-title">Knowledge Check</div><div class="quiz-subtitle">3 questions</div></div></div><div class="quiz-questions"><div class="question" data-correct="1"><div class="question-text"><span class="question-number">1.</span> What does LAER stand for?</div><div class="options"><div class="option" data-option="1"><span class="option-radio"></span><span class="option-text">Listen, Acknowledge, Explore, Respond</span></div><div class="option" data-option="2"><span class="option-radio"></span><span class="option-text">Look, Ask, Explain, Repeat</span></div><div class="option" data-option="3"><span class="option-radio"></span><span class="option-text">Lead, Assist, Evaluate, Resolve</span></div><div class="option" data-option="4"><span class="option-radio"></span><span class="option-text">Learn, Adapt, Execute, Review</span></div></div><div class="feedback"></div></div><div class="question" data-correct="3"><div class="question-text"><span class="question-number">2.</span> What is the biggest mistake in objection handling?</div><div class="options"><div class="option" data-option="1"><span class="option-radio"></span><span class="option-text">Listening too much</span></div><div class="option" data-option="2"><span class="option-radio"></span><span class="option-text">Being too patient</span></div><div class="option" data-option="3"><span class="option-radio"></span><span class="option-text">Skipping Listen and Acknowledge, jumping to Respond</span></div><div class="option" data-option="4"><span class="option-radio"></span><span class="option-text">Asking too many questions</span></div></div><div class="feedback"></div></div><div class="question" data-correct="4"><div class="question-text"><span class="question-number">3.</span> What should you do after responding to an objection?</div><div class="options"><div class="option" data-option="1"><span class="option-radio"></span><span class="option-text">Move on immediately</span></div><div class="option" data-option="2"><span class="option-radio"></span><span class="option-text">Give a discount</span></div><div class="option" data-option="3"><span class="option-radio"></span><span class="option-text">Show them a different product</span></div><div class="option" data-option="4"><span class="option-radio"></span><span class="option-text">Confirm if your response addressed their concern</span></div></div><div class="feedback"></div></div></div><div class="quiz-results"><div class="results-icon">'+checkIcon+'</div><h3 class="results-title">Quiz Complete!</h3><p class="results-score"></p></div><div class="quiz-actions"><button class="btn btn-primary submit-quiz">Check Answers</button><button class="btn btn-secondary retry-quiz hidden">Try Again</button></div></div><div class="nav-buttons"><button class="btn btn-secondary prev-topic" data-prev="1">'+arrowLeft+' Previous</button><button class="btn btn-primary next-topic" data-next="3">Next: Price Objections '+arrowRight+'</button></div></div>';
    }
    getTopic3HTML(infoIcon,quizIcon,checkIcon,arrowRight,arrowLeft){
        return '<div class="topic-content" id="topic-3"><div class="lesson-card"><h2>Price Objections</h2><p>Price is the most common objection in sales - and the most misunderstood. When customers say something is "too expensive," they are rarely saying they cannot afford it. They are saying they do not yet see the value.</p><h3>What "Too Expensive" Really Means</h3><p>Price objections usually translate to one of these:</p><ul><li>"I do not understand why it costs this much"</li><li>"I am not convinced it is worth it for me"</li><li>"I have seen similar things for less elsewhere"</li><li>"This is more than I budgeted"</li><li>"I am afraid of making the wrong decision"</li></ul><p>Each of these needs a different response. Use the Explore step to find out which one you are dealing with.</p><div class="key-point"><strong>Key Insight</strong>Never defend price - build value instead. If you act like the price needs defending, you are agreeing it is too high. Confidently reinforce the value they are getting.</div><h3>Strategies for Price Objections</h3><p><strong>Reframe the value:</strong></p><ul><li>"This is not just eyewear - it is clear, comfortable vision for the next two years"</li><li>"Think of it as an investment in your eye health and daily comfort"</li><li>"Quality eyewear affects everything you see, all day, every day"</li></ul><p><strong>Break down the cost:</strong></p><ul><li>"Over two years, that is less than $1 per day"</li><li>"Compared to what you spend on coffee each month, this is..."</li><li>"Your insurance covers $X, so your investment is really only..."</li></ul><p><strong>Compare alternatives:</strong></p><ul><li>"The cheaper option would mean thicker lenses and no anti-glare - would that work for your job?"</li><li>"We could reduce the price by removing the blue light protection, but you mentioned computer eye strain..."</li></ul><p><strong>Address hidden concerns:</strong></p><ul><li>"Is it the total amount, or the out-of-pocket today?"</li><li>"Would spreading the payment help make this work?"</li><li>"What were you expecting to invest in eyewear today?"</li></ul><h3>What NOT to Do</h3><ul><li><strong>Do not immediately discount:</strong> This devalues your product and your recommendation</li><li><strong>Do not be defensive:</strong> Avoid "Well, quality costs money"</li><li><strong>Do not badmouth cheaper alternatives:</strong> Compare fairly and professionally</li><li><strong>Do not assume they cannot afford it:</strong> It is about perceived value, not wealth</li></ul><div class="tip-box">'+infoIcon+'<div><strong>Pro Tip:</strong> If you have built value properly during presentation, price objections are much easier to handle. Prevention is better than cure - build value early.</div></div></div><div class="quiz-section" data-quiz="3"><div class="quiz-header"><div class="quiz-icon">'+quizIcon+'</div><div><div class="quiz-title">Knowledge Check</div><div class="quiz-subtitle">3 questions</div></div></div><div class="quiz-questions"><div class="question" data-correct="2"><div class="question-text"><span class="question-number">1.</span> When customers say something is "too expensive," what are they usually saying?</div><div class="options"><div class="option" data-option="1"><span class="option-radio"></span><span class="option-text">They literally cannot afford it</span></div><div class="option" data-option="2"><span class="option-radio"></span><span class="option-text">They do not yet see the value</span></div><div class="option" data-option="3"><span class="option-radio"></span><span class="option-text">They want to leave immediately</span></div><div class="option" data-option="4"><span class="option-radio"></span><span class="option-text">They found it cheaper online</span></div></div><div class="feedback"></div></div><div class="question" data-correct="1"><div class="question-text"><span class="question-number">2.</span> What should you do instead of defending the price?</div><div class="options"><div class="option" data-option="1"><span class="option-radio"></span><span class="option-text">Build and reinforce value</span></div><div class="option" data-option="2"><span class="option-radio"></span><span class="option-text">Immediately offer a discount</span></div><div class="option" data-option="3"><span class="option-radio"></span><span class="option-text">Agree that it is expensive</span></div><div class="option" data-option="4"><span class="option-radio"></span><span class="option-text">Show them the cheapest option</span></div></div><div class="feedback"></div></div><div class="question" data-correct="3"><div class="question-text"><span class="question-number">3.</span> Why should you not immediately offer a discount?</div><div class="options"><div class="option" data-option="1"><span class="option-radio"></span><span class="option-text">Discounts are not allowed</span></div><div class="option" data-option="2"><span class="option-radio"></span><span class="option-text">Customers do not like discounts</span></div><div class="option" data-option="3"><span class="option-radio"></span><span class="option-text">It devalues your product and recommendation</span></div><div class="option" data-option="4"><span class="option-radio"></span><span class="option-text">It takes too long</span></div></div><div class="feedback"></div></div></div><div class="quiz-results"><div class="results-icon">'+checkIcon+'</div><h3 class="results-title">Quiz Complete!</h3><p class="results-score"></p></div><div class="quiz-actions"><button class="btn btn-primary submit-quiz">Check Answers</button><button class="btn btn-secondary retry-quiz hidden">Try Again</button></div></div><div class="nav-buttons"><button class="btn btn-secondary prev-topic" data-prev="2">'+arrowLeft+' Previous</button><button class="btn btn-primary next-topic" data-next="4">Next: Common Objections '+arrowRight+'</button></div></div>';
    }
    getTopic4HTML(infoIcon,quizIcon,checkIcon,arrowRight,arrowLeft){
        return '<div class="topic-content" id="topic-4"><div class="lesson-card"><h2>Common Optical Objections</h2><p>Beyond price, optical customers have specific concerns related to eyewear. Being prepared with confident responses to these common objections will help you serve customers better and close more sales.</p><h3>"I can get it cheaper online"</h3><p><strong>Listen and Acknowledge:</strong> "I understand - online prices can look attractive."</p><p><strong>Explore:</strong> "What is drawing you to buy online? Is it purely price, or convenience?"</p><p><strong>Respond:</strong></p><ul><li>Emphasize what they get here: professional fitting, adjustments, warranty service</li><li>"When you buy online, who adjusts them if they do not fit right?"</li><li>"Our price includes fitting, follow-up adjustments, and local warranty service"</li><li>"Online measurements are often less accurate, leading to vision problems"</li></ul><h3>"I had trouble with progressives before"</h3><p><strong>Listen and Acknowledge:</strong> "I am sorry you had that experience - adaptation issues are frustrating."</p><p><strong>Explore:</strong> "Can you tell me what happened? What specifically gave you trouble?"</p><p><strong>Respond:</strong></p><ul><li>"Progressive technology has improved dramatically in recent years"</li><li>"The issue may have been the fitting or the lens design - let me show you what is different now"</li><li>"We offer an adaptation guarantee - if you cannot adjust, we will work with you until you can"</li></ul><div class="key-point"><strong>Key Insight</strong>Past negative experiences create strong objections. Show empathy first, then explain what is different now. Never dismiss their previous experience as their fault.</div><h3>"I need to check with my spouse"</h3><p><strong>Listen and Acknowledge:</strong> "Absolutely, it is smart to make decisions together."</p><p><strong>Explore:</strong> "What information would help them make the decision with you?"</p><p><strong>Respond:</strong></p><ul><li>Offer to call or FaceTime the spouse</li><li>Take photos of them in the frames to share</li><li>Provide a detailed quote they can take home</li><li>"Would it help if I wrote down everything we discussed for you to share?"</li></ul><h3>"I will wait until my insurance renews"</h3><p><strong>Listen and Acknowledge:</strong> "That makes sense - insurance benefits are valuable."</p><p><strong>Explore:</strong> "When does your plan renew? Are you having any issues with your current eyewear?"</p><p><strong>Respond:</strong></p><ul><li>If they have unused current benefits: "Did you know your current benefits expire and do not roll over?"</li><li>If they are struggling now: "Would it be worth investing now for months of better vision?"</li><li>"We can file with your new insurance once it is active - let us get you set up now"</li></ul><h3>"These frames do not look right on me"</h3><p><strong>Listen and Acknowledge:</strong> "Finding the right look is important - you will wear these every day."</p><p><strong>Explore:</strong> "What specifically is not working? The shape, size, color?"</p><p><strong>Respond:</strong></p><ul><li>Offer alternatives based on their feedback</li><li>"Let me show you a few styles that might suit your face shape better"</li><li>"Sometimes it takes a few tries - that is completely normal"</li></ul><div class="tip-box">'+infoIcon+'<div><strong>Pro Tip:</strong> Keep a mental list of your most common objections and practice your LAER responses until they feel natural. Preparation builds confidence.</div></div></div><div class="quiz-section" data-quiz="4"><div class="quiz-header"><div class="quiz-icon">'+quizIcon+'</div><div><div class="quiz-title">Knowledge Check</div><div class="quiz-subtitle">3 questions</div></div></div><div class="quiz-questions"><div class="question" data-correct="2"><div class="question-text"><span class="question-number">1.</span> When handling "I can get it cheaper online," what should you emphasize?</div><div class="options"><div class="option" data-option="1"><span class="option-radio"></span><span class="option-text">That online stores are scams</span></div><div class="option" data-option="2"><span class="option-radio"></span><span class="option-text">Professional fitting, adjustments, and local warranty service</span></div><div class="option" data-option="3"><span class="option-radio"></span><span class="option-text">That they should buy online instead</span></div><div class="option" data-option="4"><span class="option-radio"></span><span class="option-text">Lower your price to match</span></div></div><div class="feedback"></div></div><div class="question" data-correct="3"><div class="question-text"><span class="question-number">2.</span> How should you handle someone past negative experience with progressives?</div><div class="options"><div class="option" data-option="1"><span class="option-radio"></span><span class="option-text">Tell them they probably wore them wrong</span></div><div class="option" data-option="2"><span class="option-radio"></span><span class="option-text">Suggest they stick with bifocals</span></div><div class="option" data-option="3"><span class="option-radio"></span><span class="option-text">Show empathy, then explain what is different now</span></div><div class="option" data-option="4"><span class="option-radio"></span><span class="option-text">Dismiss their experience as uncommon</span></div></div><div class="feedback"></div></div><div class="question" data-correct="1"><div class="question-text"><span class="question-number">3.</span> When they say "I need to check with my spouse," what is a helpful response?</div><div class="options"><div class="option" data-option="1"><span class="option-radio"></span><span class="option-text">Offer to call/FaceTime the spouse or provide photos to share</span></div><div class="option" data-option="2"><span class="option-radio"></span><span class="option-text">Tell them to make their own decisions</span></div><div class="option" data-option="3"><span class="option-radio"></span><span class="option-text">Pressure them to decide now</span></div><div class="option" data-option="4"><span class="option-radio"></span><span class="option-text">Give up on the sale</span></div></div><div class="feedback"></div></div></div><div class="quiz-results"><div class="results-icon">'+checkIcon+'</div><h3 class="results-title">Quiz Complete!</h3><p class="results-score"></p></div><div class="quiz-actions"><button class="btn btn-primary submit-quiz">Check Answers</button><button class="btn btn-secondary retry-quiz hidden">Try Again</button></div></div><div class="nav-buttons"><button class="btn btn-secondary prev-topic" data-prev="3">'+arrowLeft+' Previous</button><button class="btn btn-primary next-topic" data-next="5">Next: When to Let Go '+arrowRight+'</button></div></div>';
    }
    getTopic5HTML(infoIcon,quizIcon,checkIcon,arrowRight,arrowLeft){
        return '<div class="topic-content" id="topic-5"><div class="lesson-card"><h2>When to Let Go</h2><p>Not every objection can be overcome, and not every customer will buy. Knowing when to gracefully step back is as important as knowing how to handle objections. Pushing too hard damages relationships and your reputation.</p><h3>Signs It is Time to Let Go</h3><p>Recognize when continued effort will not help:</p><ul><li><strong>Repeated objections:</strong> They keep raising the same concern despite your responses</li><li><strong>Disengagement:</strong> Short answers, checking phone, looking away</li><li><strong>Genuine constraints:</strong> Real budget limits or timing issues you cannot solve</li><li><strong>Emotional escalation:</strong> Frustration or irritation is building</li><li><strong>Multiple smokescreens:</strong> New objections keep appearing after you address each one</li></ul><div class="key-point"><strong>Key Insight</strong>A graceful exit preserves the relationship. Today\'s "no" can become tomorrow\'s "yes" if you leave on good terms. Pushing until they are frustrated ensures they never return.</div><h3>How to Let Go Gracefully</h3><p><strong>Acknowledge their position:</strong></p><ul><li>"I understand this is not the right time"</li><li>"It sounds like you need more time to decide, and that is completely fine"</li><li>"I want you to feel confident in whatever you decide"</li></ul><p><strong>Leave the door open:</strong></p><ul><li>"When you are ready, I would love to help you find the perfect eyewear"</li><li>"Here is my card - feel free to reach out with any questions"</li><li>"Would it be okay if I followed up with you in a few weeks?"</li></ul><p><strong>Provide value anyway:</strong></p><ul><li>Give them helpful information to take home</li><li>Answer any final questions they have</li><li>Make a genuine recommendation even if they do not buy today</li></ul><h3>The Follow-Up Opportunity</h3><p>Many sales happen after the first interaction:</p><ul><li>Get permission to follow up: "May I give you a call in a couple weeks?"</li><li>Capture their contact information</li><li>Note what they were interested in and their concerns</li><li>Set a reminder to reach out at an appropriate time</li><li>Follow up with value, not pressure: "I found some information on progressive adaptation that might help..."</li></ul><h3>Learning from "Lost" Sales</h3><p>Every objection you cannot overcome is a learning opportunity:</p><ul><li>What could you have done differently?</li><li>Did you miss something during discovery?</li><li>Was there a value gap you did not address?</li><li>How can you prevent this objection next time?</li></ul><div class="tip-box">'+infoIcon+'<div><strong>Pro Tip:</strong> The way you handle "no" matters more than you think. Customers remember how you made them feel. A respectful exit often leads to referrals and future business.</div></div></div><div class="quiz-section" data-quiz="5"><div class="quiz-header"><div class="quiz-icon">'+quizIcon+'</div><div><div class="quiz-title">Knowledge Check</div><div class="quiz-subtitle">3 questions</div></div></div><div class="quiz-questions"><div class="question" data-correct="4"><div class="question-text"><span class="question-number">1.</span> Why is a graceful exit important?</div><div class="options"><div class="option" data-option="1"><span class="option-radio"></span><span class="option-text">It saves you time</span></div><div class="option" data-option="2"><span class="option-radio"></span><span class="option-text">Company policy requires it</span></div><div class="option" data-option="3"><span class="option-radio"></span><span class="option-text">It avoids legal issues</span></div><div class="option" data-option="4"><span class="option-radio"></span><span class="option-text">Today\'s "no" can become tomorrow\'s "yes" if you leave on good terms</span></div></div><div class="feedback"></div></div><div class="question" data-correct="2"><div class="question-text"><span class="question-number">2.</span> Which is a sign it is time to let go?</div><div class="options"><div class="option" data-option="1"><span class="option-radio"></span><span class="option-text">They ask about price</span></div><div class="option" data-option="2"><span class="option-radio"></span><span class="option-text">They keep raising the same concern despite your responses</span></div><div class="option" data-option="3"><span class="option-radio"></span><span class="option-text">They try on frames</span></div><div class="option" data-option="4"><span class="option-radio"></span><span class="option-text">They ask questions</span></div></div><div class="feedback"></div></div><div class="question" data-correct="1"><div class="question-text"><span class="question-number">3.</span> What should you do when letting go?</div><div class="options"><div class="option" data-option="1"><span class="option-radio"></span><span class="option-text">Leave the door open and offer to follow up</span></div><div class="option" data-option="2"><span class="option-radio"></span><span class="option-text">Express disappointment in them</span></div><div class="option" data-option="3"><span class="option-radio"></span><span class="option-text">Ignore them from now on</span></div><div class="option" data-option="4"><span class="option-radio"></span><span class="option-text">Make one final pressure attempt</span></div></div><div class="feedback"></div></div></div><div class="quiz-results"><div class="results-icon">'+checkIcon+'</div><h3 class="results-title">Quiz Complete!</h3><p class="results-score"></p></div><div class="quiz-actions"><button class="btn btn-primary submit-quiz">Check Answers</button><button class="btn btn-secondary retry-quiz hidden">Try Again</button></div></div><div class="nav-buttons"><button class="btn btn-secondary prev-topic" data-prev="4">'+arrowLeft+' Previous</button><button class="btn btn-primary next-topic" data-next="final">Take Final Quiz '+arrowRight+'</button></div></div>';
    }
    getFinalQuizHTML(quizIcon,checkIcon,arrowRight,arrowLeft){
        return '<div class="topic-content" id="topic-final"><div class="quiz-section"><div class="final-quiz-intro" id="finalQuizIntro"><h2>Module 5 Final Quiz</h2><p>Test your knowledge of objection handling techniques. You need 70% to complete the module.</p><div class="final-quiz-stats"><div class="stat-item"><div class="stat-value">10</div><div class="stat-label">Questions</div></div><div class="stat-item"><div class="stat-value">70%</div><div class="stat-label">Passing Score</div></div></div><button class="btn btn-primary" id="startFinalQuiz">Start Final Quiz</button></div><div class="hidden" id="finalQuizContent"><div class="quiz-header"><div class="quiz-icon">'+quizIcon+'</div><div><div class="quiz-title">Final Quiz</div><div class="quiz-subtitle">10 questions - All topics</div></div></div><div class="quiz-questions"><div class="question" data-correct="3"><div class="question-text"><span class="question-number">1.</span> Objections are actually a sign of:</div><div class="options"><div class="option" data-option="1"><span class="option-radio"></span><span class="option-text">Failure</span></div><div class="option" data-option="2"><span class="option-radio"></span><span class="option-text">Indifference</span></div><div class="option" data-option="3"><span class="option-radio"></span><span class="option-text">Engagement and interest</span></div><div class="option" data-option="4"><span class="option-radio"></span><span class="option-text">Confusion</span></div></div><div class="feedback"></div></div><div class="question" data-correct="2"><div class="question-text"><span class="question-number">2.</span> "I will think about it" is typically a:</div><div class="options"><div class="option" data-option="1"><span class="option-radio"></span><span class="option-text">Real objection</span></div><div class="option" data-option="2"><span class="option-radio"></span><span class="option-text">Smokescreen objection</span></div><div class="option" data-option="3"><span class="option-radio"></span><span class="option-text">Buying signal</span></div><div class="option" data-option="4"><span class="option-radio"></span><span class="option-text">Compliment</span></div></div><div class="feedback"></div></div><div class="question" data-correct="1"><div class="question-text"><span class="question-number">3.</span> LAER stands for:</div><div class="options"><div class="option" data-option="1"><span class="option-radio"></span><span class="option-text">Listen, Acknowledge, Explore, Respond</span></div><div class="option" data-option="2"><span class="option-radio"></span><span class="option-text">Look, Ask, Explain, Repeat</span></div><div class="option" data-option="3"><span class="option-radio"></span><span class="option-text">Lead, Assist, Execute, Review</span></div><div class="option" data-option="4"><span class="option-radio"></span><span class="option-text">Learn, Adapt, Evaluate, Resolve</span></div></div><div class="feedback"></div></div><div class="question" data-correct="3"><div class="question-text"><span class="question-number">4.</span> The biggest objection handling mistake is:</div><div class="options"><div class="option" data-option="1"><span class="option-radio"></span><span class="option-text">Listening too much</span></div><div class="option" data-option="2"><span class="option-radio"></span><span class="option-text">Being too patient</span></div><div class="option" data-option="3"><span class="option-radio"></span><span class="option-text">Jumping straight to Respond</span></div><div class="option" data-option="4"><span class="option-radio"></span><span class="option-text">Asking questions</span></div></div><div class="feedback"></div></div><div class="question" data-correct="2"><div class="question-text"><span class="question-number">5.</span> "Too expensive" usually means:</div><div class="options"><div class="option" data-option="1"><span class="option-radio"></span><span class="option-text">They are poor</span></div><div class="option" data-option="2"><span class="option-radio"></span><span class="option-text">They do not see the value yet</span></div><div class="option" data-option="3"><span class="option-radio"></span><span class="option-text">Your prices are wrong</span></div><div class="option" data-option="4"><span class="option-radio"></span><span class="option-text">They are lying</span></div></div><div class="feedback"></div></div><div class="question" data-correct="1"><div class="question-text"><span class="question-number">6.</span> When facing price objections, you should:</div><div class="options"><div class="option" data-option="1"><span class="option-radio"></span><span class="option-text">Build and reinforce value</span></div><div class="option" data-option="2"><span class="option-radio"></span><span class="option-text">Immediately discount</span></div><div class="option" data-option="3"><span class="option-radio"></span><span class="option-text">Get defensive</span></div><div class="option" data-option="4"><span class="option-radio"></span><span class="option-text">Agree it is too expensive</span></div></div><div class="feedback"></div></div><div class="question" data-correct="4"><div class="question-text"><span class="question-number">7.</span> For "I can get it cheaper online," emphasize:</div><div class="options"><div class="option" data-option="1"><span class="option-radio"></span><span class="option-text">Online stores are scams</span></div><div class="option" data-option="2"><span class="option-radio"></span><span class="option-text">Lower your price</span></div><div class="option" data-option="3"><span class="option-radio"></span><span class="option-text">They should buy online</span></div><div class="option" data-option="4"><span class="option-radio"></span><span class="option-text">Professional fitting and local service</span></div></div><div class="feedback"></div></div><div class="question" data-correct="3"><div class="question-text"><span class="question-number">8.</span> Past negative experiences should be handled with:</div><div class="options"><div class="option" data-option="1"><span class="option-radio"></span><span class="option-text">Dismissal</span></div><div class="option" data-option="2"><span class="option-radio"></span><span class="option-text">Blame</span></div><div class="option" data-option="3"><span class="option-radio"></span><span class="option-text">Empathy first, then what is different now</span></div><div class="option" data-option="4"><span class="option-radio"></span><span class="option-text">Ignoring it</span></div></div><div class="feedback"></div></div><div class="question" data-correct="2"><div class="question-text"><span class="question-number">9.</span> A sign it is time to let go is:</div><div class="options"><div class="option" data-option="1"><span class="option-radio"></span><span class="option-text">They ask about price</span></div><div class="option" data-option="2"><span class="option-radio"></span><span class="option-text">They keep raising the same objection</span></div><div class="option" data-option="3"><span class="option-radio"></span><span class="option-text">They try on frames</span></div><div class="option" data-option="4"><span class="option-radio"></span><span class="option-text">They ask questions</span></div></div><div class="feedback"></div></div><div class="question" data-correct="4"><div class="question-text"><span class="question-number">10.</span> A graceful exit is important because:</div><div class="options"><div class="option" data-option="1"><span class="option-radio"></span><span class="option-text">It is legally required</span></div><div class="option" data-option="2"><span class="option-radio"></span><span class="option-text">It saves time</span></div><div class="option" data-option="3"><span class="option-radio"></span><span class="option-text">Company policy</span></div><div class="option" data-option="4"><span class="option-radio"></span><span class="option-text">Today\'s "no" can become tomorrow\'s "yes"</span></div></div><div class="feedback"></div></div></div><div class="quiz-results" id="finalQuizResults"><div class="results-icon">'+checkIcon+'</div><h3 class="results-title"></h3><p class="results-score"></p></div><div class="quiz-actions"><button class="btn btn-primary" id="submitFinalQuiz">Submit Final Quiz</button><button class="btn btn-secondary hidden" id="retryFinalQuiz">Try Again</button><a href="https://www.opticalowners.com/training" class="btn btn-primary hidden" id="nextModule">Back to Training '+arrowRight+'</a></div></div></div><div class="nav-buttons"><button class="btn btn-secondary prev-topic" data-prev="5">'+arrowLeft+' Back to Topics</button><div></div></div></div>';
    }
    initializeComponent(){var shadow=this.shadowRoot;var self=this;var state={completed:[],current:1};var totalTopics=5;function updateProgress(){var pct=Math.round((state.completed.length/(totalTopics+1))*100);shadow.getElementById('progressFill').style.width=pct+'%';shadow.getElementById('progressText').textContent=pct+'% Complete'}function markTopicComplete(num){if(state.completed.indexOf(num)===-1){state.completed.push(num);updateProgress()}var tabs=shadow.querySelectorAll('.topic-tab');for(var i=0;i<tabs.length;i++){if(tabs[i].getAttribute('data-topic')===String(num)&&num!=='final'){tabs[i].classList.add('completed')}}}function showTopic(id){var contents=shadow.querySelectorAll('.topic-content');for(var i=0;i<contents.length;i++){contents[i].classList.remove('active')}var tabs=shadow.querySelectorAll('.topic-tab');for(var i=0;i<tabs.length;i++){tabs[i].classList.remove('active')}shadow.getElementById('topic-'+id).classList.add('active');var targetTabs=shadow.querySelectorAll('.topic-tab');for(var i=0;i<targetTabs.length;i++){if(targetTabs[i].getAttribute('data-topic')===String(id)){targetTabs[i].classList.add('active')}}state.current=id;self.scrollIntoView({behavior:'smooth',block:'start'})}var topicTabs=shadow.querySelectorAll('.topic-tab');for(var i=0;i<topicTabs.length;i++){(function(tab){tab.addEventListener('click',function(){showTopic(tab.getAttribute('data-topic'))})})(topicTabs[i])}var nextBtns=shadow.querySelectorAll('.next-topic');for(var i=0;i<nextBtns.length;i++){(function(btn){btn.addEventListener('click',function(){showTopic(btn.getAttribute('data-next'))})})(nextBtns[i])}var prevBtns=shadow.querySelectorAll('.prev-topic');for(var i=0;i<prevBtns.length;i++){(function(btn){btn.addEventListener('click',function(){showTopic(btn.getAttribute('data-prev'))})})(prevBtns[i])}var quizSections=shadow.querySelectorAll('.quiz-section[data-quiz]');for(var q=0;q<quizSections.length;q++){(function(quiz){var questions=quiz.querySelectorAll('.question');var submitBtn=quiz.querySelector('.submit-quiz');var retryBtn=quiz.querySelector('.retry-quiz');var resultsDiv=quiz.querySelector('.quiz-results');if(!submitBtn)return;for(var j=0;j<questions.length;j++){(function(question){var options=question.querySelectorAll('.option');for(var k=0;k<options.length;k++){(function(opt){opt.addEventListener('click',function(){if(question.classList.contains('answered'))return;var allOpts=question.querySelectorAll('.option');for(var m=0;m<allOpts.length;m++){allOpts[m].classList.remove('selected')}opt.classList.add('selected')})})(options[k])}})(questions[j])}submitBtn.addEventListener('click',function(){var correct=0;for(var j=0;j<questions.length;j++){var q2=questions[j];q2.classList.add('answered');var correctAns=q2.getAttribute('data-correct');var selected=q2.querySelector('.option.selected');var feedback=q2.querySelector('.feedback');if(selected){if(selected.getAttribute('data-option')===correctAns){correct++;selected.classList.add('correct');feedback.textContent='Correct!';feedback.className='feedback show correct'}else{selected.classList.add('incorrect');var correctOpts=q2.querySelectorAll('.option');for(var m=0;m<correctOpts.length;m++){if(correctOpts[m].getAttribute('data-option')===correctAns){correctOpts[m].classList.add('correct')}}feedback.textContent='Incorrect';feedback.className='feedback show incorrect'}}else{var correctOpts2=q2.querySelectorAll('.option');for(var m=0;m<correctOpts2.length;m++){if(correctOpts2[m].getAttribute('data-option')===correctAns){correctOpts2[m].classList.add('correct')}}feedback.textContent='No answer selected';feedback.className='feedback show incorrect'}}var total=questions.length;var pct=Math.round((correct/total)*100);var passed=pct>=70;resultsDiv.querySelector('.results-score').textContent='You scored '+correct+'/'+total+' ('+pct+'%)';resultsDiv.querySelector('.results-icon').className='results-icon '+(passed?'pass':'fail');resultsDiv.querySelector('.results-title').textContent=passed?'Great Job!':'Keep Practicing';resultsDiv.classList.add('show');submitBtn.classList.add('hidden');retryBtn.classList.remove('hidden');if(passed){var quizNum=quiz.getAttribute('data-quiz');if(quizNum)markTopicComplete(parseInt(quizNum))}});retryBtn.addEventListener('click',function(){for(var j=0;j<questions.length;j++){questions[j].classList.remove('answered');var opts=questions[j].querySelectorAll('.option');for(var k=0;k<opts.length;k++){opts[k].classList.remove('selected','correct','incorrect')}questions[j].querySelector('.feedback').className='feedback'}resultsDiv.classList.remove('show');retryBtn.classList.add('hidden');submitBtn.classList.remove('hidden')})})(quizSections[q])}var startFinalBtn=shadow.getElementById('startFinalQuiz');var finalQuizIntro=shadow.getElementById('finalQuizIntro');var finalQuizContent=shadow.getElementById('finalQuizContent');var submitFinalBtn=shadow.getElementById('submitFinalQuiz');var retryFinalBtn=shadow.getElementById('retryFinalQuiz');var nextModuleBtn=shadow.getElementById('nextModule');var finalResults=shadow.getElementById('finalQuizResults');if(startFinalBtn){startFinalBtn.addEventListener('click',function(){finalQuizIntro.classList.add('hidden');finalQuizContent.classList.remove('hidden')})}if(submitFinalBtn){var finalQuestions=finalQuizContent.querySelectorAll('.question');for(var i=0;i<finalQuestions.length;i++){(function(question){var options=question.querySelectorAll('.option');for(var k=0;k<options.length;k++){(function(opt){opt.addEventListener('click',function(){if(question.classList.contains('answered'))return;var allOpts=question.querySelectorAll('.option');for(var m=0;m<allOpts.length;m++){allOpts[m].classList.remove('selected')}opt.classList.add('selected')})})(options[k])}})(finalQuestions[i])}submitFinalBtn.addEventListener('click',function(){var correct=0;for(var j=0;j<finalQuestions.length;j++){var q2=finalQuestions[j];q2.classList.add('answered');var correctAns=q2.getAttribute('data-correct');var selected=q2.querySelector('.option.selected');var feedback=q2.querySelector('.feedback');if(selected){if(selected.getAttribute('data-option')===correctAns){correct++;selected.classList.add('correct');feedback.textContent='Correct!';feedback.className='feedback show correct'}else{selected.classList.add('incorrect');var correctOpts=q2.querySelectorAll('.option');for(var m=0;m<correctOpts.length;m++){if(correctOpts[m].getAttribute('data-option')===correctAns){correctOpts[m].classList.add('correct')}}feedback.textContent='Incorrect';feedback.className='feedback show incorrect'}}else{var correctOpts2=q2.querySelectorAll('.option');for(var m=0;m<correctOpts2.length;m++){if(correctOpts2[m].getAttribute('data-option')===correctAns){correctOpts2[m].classList.add('correct')}}feedback.textContent='No answer selected';feedback.className='feedback show incorrect'}}var pct=Math.round((correct/10)*100);var passed=pct>=70;finalResults.querySelector('.results-score').textContent='You scored '+correct+'/10 ('+pct+'%)';finalResults.querySelector('.results-icon').className='results-icon '+(passed?'pass':'fail');finalResults.querySelector('.results-title').textContent=passed?'Module Complete!':'Not Quite';finalResults.classList.add('show');submitFinalBtn.classList.add('hidden');if(passed){markTopicComplete('final');nextModuleBtn.classList.remove('hidden')}else{retryFinalBtn.classList.remove('hidden')}});retryFinalBtn.addEventListener('click',function(){for(var j=0;j<finalQuestions.length;j++){finalQuestions[j].classList.remove('answered');var opts=finalQuestions[j].querySelectorAll('.option');for(var k=0;k<opts.length;k++){opts[k].classList.remove('selected','correct','incorrect')}finalQuestions[j].querySelector('.feedback').className='feedback'}finalResults.classList.remove('show');retryFinalBtn.classList.add('hidden');submitFinalBtn.classList.remove('hidden')})}updateProgress()}
    disconnectedCallback(){if(this.shadowRoot){this.shadowRoot.innerHTML=''}}
}
customElements.define('course-module-5',CourseModule5);
