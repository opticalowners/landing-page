class CourseModule6 extends HTMLElement {
    connectedCallback() {
        this.attachShadow({ mode: 'open' });
        this.render();
        this.initializeComponent();
    }
    render() {
        const styles = `@import url('https://fonts.googleapis.com/css2?family=DM+Serif+Display&family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap');:host{display:block;--font-display:'DM Serif Display',Georgia,serif;--font-body:'Plus Jakarta Sans',sans-serif;--bg-primary:#0a1628;--bg-secondary:#142238;--bg-tertiary:#1e3a5f;--text-primary:#f9fafb;--text-secondary:#d1d5db;--text-muted:#9ca3af;--border-color:#374151;--teal:#0d9488;--teal-dark:#0a766c;--teal-light:rgba(13,148,136,0.2);--gold:#d4a853;--green:#10b981;--green-light:rgba(16,185,129,0.2);--red:#ef4444;--red-light:rgba(239,68,68,0.2)}*{margin:0;padding:0;box-sizing:border-box}.wrapper{font-family:var(--font-body);background:var(--bg-primary);color:var(--text-secondary);line-height:1.7}.progress-container{background:var(--bg-secondary);border-bottom:1px solid var(--border-color);padding:1rem 1.5rem}.progress-wrapper{max-width:900px;margin:0 auto}.progress-header{display:flex;justify-content:space-between;margin-bottom:0.5rem}.progress-label{font-size:0.85rem;font-weight:600;color:var(--text-primary)}.progress-text{font-size:0.85rem;color:var(--text-muted)}.progress-bar{height:8px;background:var(--bg-tertiary);border-radius:10px;overflow:hidden}.progress-fill{height:100%;background:linear-gradient(90deg,var(--teal),var(--gold));border-radius:10px;transition:width 0.5s;width:0%}main{max-width:900px;margin:0 auto;padding:2rem 1.5rem 4rem}.module-header{margin-bottom:2rem}.breadcrumb{display:flex;align-items:center;gap:0.5rem;font-size:0.85rem;color:var(--text-muted);margin-bottom:1rem;flex-wrap:wrap}.breadcrumb a{color:var(--teal);text-decoration:none}.breadcrumb a:hover{text-decoration:underline}.module-title{font-family:var(--font-display);font-size:clamp(1.75rem,5vw,2.5rem);color:var(--text-primary);margin-bottom:0.5rem}.module-description{font-size:1.1rem;color:var(--text-secondary)}.topic-nav{display:flex;gap:0.5rem;margin-bottom:2rem;overflow-x:auto;padding-bottom:0.5rem;-webkit-overflow-scrolling:touch}.topic-tab{flex-shrink:0;padding:0.6rem 1rem;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px;font-size:0.85rem;font-weight:500;color:var(--text-secondary);cursor:pointer;transition:all 0.3s;display:flex;align-items:center;gap:0.4rem;font-family:var(--font-body)}.topic-tab:hover{border-color:var(--teal);color:var(--teal)}.topic-tab.active{background:var(--teal);border-color:var(--teal);color:white}.topic-tab.completed{background:var(--green-light);border-color:var(--green);color:var(--green)}.topic-content{display:none;animation:fadeIn 0.4s}.topic-content.active{display:block}@keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.lesson-card{background:var(--bg-secondary);border-radius:16px;padding:2rem;margin-bottom:2rem;border:1px solid var(--border-color)}.lesson-card h2{font-family:var(--font-display);font-size:1.5rem;color:var(--text-primary);margin-bottom:1.5rem}.lesson-card h3{font-size:1.1rem;color:var(--text-primary);margin:1.5rem 0 0.75rem}.lesson-card p{margin-bottom:1rem}.lesson-card ul,.lesson-card ol{margin:1rem 0 1rem 1.5rem}.lesson-card li{margin-bottom:0.5rem}.key-point{background:var(--teal-light);border-left:4px solid var(--teal);padding:1rem 1.25rem;border-radius:0 10px 10px 0;margin:1.5rem 0}.key-point strong{color:var(--teal);display:block;margin-bottom:0.25rem}.tip-box{background:var(--bg-tertiary);border-radius:10px;padding:1rem 1.25rem;margin:1.5rem 0;display:flex;gap:0.75rem}.tip-box svg{width:24px;height:24px;fill:var(--gold);flex-shrink:0}.quiz-section{background:var(--bg-secondary);border-radius:16px;padding:2rem;border:1px solid var(--border-color)}.quiz-header{display:flex;align-items:center;gap:0.75rem;margin-bottom:1.5rem}.quiz-icon{width:48px;height:48px;background:var(--teal-light);border-radius:12px;display:flex;align-items:center;justify-content:center}.quiz-icon svg{width:24px;height:24px;fill:var(--teal)}.quiz-title{font-family:var(--font-display);font-size:1.25rem;color:var(--text-primary)}.quiz-subtitle{font-size:0.9rem;color:var(--text-muted)}.question{margin-bottom:1.5rem;padding-bottom:1.5rem;border-bottom:1px solid var(--border-color)}.question:last-of-type{border-bottom:none;margin-bottom:0;padding-bottom:0}.question-text{font-weight:600;color:var(--text-primary);margin-bottom:1rem}.question-number{color:var(--teal);margin-right:0.5rem}.options{display:flex;flex-direction:column;gap:0.5rem}.option{display:flex;align-items:center;gap:0.75rem;padding:1rem;background:var(--bg-tertiary);border:2px solid transparent;border-radius:10px;cursor:pointer;transition:all 0.2s}.option:hover{border-color:var(--teal)}.option.selected{border-color:var(--teal);background:var(--teal-light)}.option.correct{border-color:var(--green);background:var(--green-light)}.option.incorrect{border-color:var(--red);background:var(--red-light)}.option-radio{width:20px;height:20px;border:2px solid var(--text-muted);border-radius:50%;flex-shrink:0;transition:all 0.2s;position:relative}.option.selected .option-radio{border-color:var(--teal);background:var(--teal)}.option.correct .option-radio{border-color:var(--green);background:var(--green)}.option.incorrect .option-radio{border-color:var(--red);background:var(--red)}.option.selected .option-radio::after,.option.correct .option-radio::after,.option.incorrect .option-radio::after{content:'';position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:8px;height:8px;background:white;border-radius:50%}.option-text{color:var(--text-secondary)}.feedback{display:none;padding:1rem;border-radius:10px;margin-top:0.75rem;font-size:0.9rem}.feedback.show{display:block}.feedback.correct{background:var(--green-light);color:var(--green)}.feedback.incorrect{background:var(--red-light);color:var(--red)}.quiz-results{display:none;text-align:center;padding:2rem 0}.quiz-results.show{display:block}.results-icon{width:80px;height:80px;border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto 1.5rem}.results-icon.pass{background:var(--green-light)}.results-icon.fail{background:var(--red-light)}.results-icon svg{width:40px;height:40px}.results-icon.pass svg{fill:var(--green)}.results-icon.fail svg{fill:var(--red)}.results-title{font-family:var(--font-display);font-size:1.5rem;color:var(--text-primary);margin-bottom:0.5rem}.results-score{font-size:1.1rem;color:var(--text-secondary);margin-bottom:1.5rem}.btn{display:inline-flex;align-items:center;justify-content:center;gap:0.5rem;padding:0.875rem 1.75rem;border-radius:10px;font-weight:600;font-size:1rem;cursor:pointer;transition:all 0.3s;border:none;text-decoration:none;font-family:var(--font-body)}.btn-primary{background:linear-gradient(135deg,var(--teal),var(--teal-dark));color:white}.btn-primary:hover{transform:translateY(-2px)}.btn-secondary{background:var(--bg-tertiary);color:var(--text-primary);border:1px solid var(--border-color)}.btn-secondary:hover{border-color:var(--teal);color:var(--teal)}.btn svg{width:20px;height:20px;fill:currentColor}.quiz-actions{display:flex;gap:1rem;margin-top:1.5rem;flex-wrap:wrap}.nav-buttons{display:flex;justify-content:space-between;gap:1rem;margin-top:2rem;padding-top:2rem;border-top:1px solid var(--border-color)}.final-quiz-intro{text-align:center;padding:3rem 1rem}.final-quiz-intro h2{font-family:var(--font-display);font-size:2rem;color:var(--text-primary);margin-bottom:1rem}.final-quiz-intro p{color:var(--text-secondary);margin-bottom:2rem;max-width:500px;margin-left:auto;margin-right:auto}.final-quiz-stats{display:flex;justify-content:center;gap:2rem;margin-bottom:2rem;flex-wrap:wrap}.stat-item{text-align:center}.stat-value{font-family:var(--font-display);font-size:2rem;color:var(--teal)}.stat-label{font-size:0.85rem;color:var(--text-muted)}.completion-banner{background:linear-gradient(135deg,var(--teal),var(--gold));border-radius:16px;padding:2rem;text-align:center;margin-top:2rem;color:white}.completion-banner h3{font-family:var(--font-display);font-size:1.5rem;margin-bottom:0.5rem}.completion-banner p{margin-bottom:1rem;opacity:0.9}.completion-banner .btn{background:white;color:var(--teal)}.hidden{display:none!important}@media(max-width:640px){.progress-container{padding:0.875rem 1rem}main{padding:1.5rem 1rem 3rem}.lesson-card,.quiz-section{padding:1.5rem;border-radius:12px}.topic-tab{padding:0.5rem 0.75rem;font-size:0.8rem}.nav-buttons{flex-direction:column}.nav-buttons .btn,.quiz-actions .btn{width:100%}.quiz-actions{flex-direction:column}}`;
        var infoIcon='<svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/></svg>';
        var quizIcon='<svg viewBox="0 0 24 24"><path d="M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/></svg>';
        var checkIcon='<svg viewBox="0 0 24 24"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>';
        var arrowRight='<svg viewBox="0 0 24 24"><path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"/></svg>';
        var arrowLeft='<svg viewBox="0 0 24 24"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>';
        this.shadowRoot.innerHTML='<style>'+styles+'</style>'+this.getHTML(infoIcon,quizIcon,checkIcon,arrowRight,arrowLeft);
    }
    getHTML(infoIcon,quizIcon,checkIcon,arrowRight,arrowLeft){
        return '<div class="wrapper"><div class="progress-container"><div class="progress-wrapper"><div class="progress-header"><span class="progress-label">Module 6: Closing</span><span class="progress-text" id="progressText">0% Complete</span></div><div class="progress-bar"><div class="progress-fill" id="progressFill"></div></div></div></div><main><div class="module-header"><div class="breadcrumb"><a href="https://www.opticalowners.com">Home</a><span>></span><a href="https://www.opticalowners.com/training">Sales Techniques</a><span>></span><span>Module 6</span></div><h1 class="module-title">Module 6: Closing</h1><p class="module-description">Learn to recognize when customers are ready to buy and confidently guide them to a decision. Master closing techniques that feel natural and create satisfied customers.</p></div><div class="topic-nav" id="topicNav"><button class="topic-tab active" data-topic="1">1. Psychology</button><button class="topic-tab" data-topic="2">2. Buying Signals</button><button class="topic-tab" data-topic="3">3. Techniques</button><button class="topic-tab" data-topic="4">4. Asking</button><button class="topic-tab" data-topic="5">5. After Close</button><button class="topic-tab" data-topic="final">Final Quiz</button></div>'+this.getTopic1HTML(infoIcon,quizIcon,checkIcon,arrowRight,arrowLeft)+this.getTopic2HTML(infoIcon,quizIcon,checkIcon,arrowRight,arrowLeft)+this.getTopic3HTML(infoIcon,quizIcon,checkIcon,arrowRight,arrowLeft)+this.getTopic4HTML(infoIcon,quizIcon,checkIcon,arrowRight,arrowLeft)+this.getTopic5HTML(infoIcon,quizIcon,checkIcon,arrowRight,arrowLeft)+this.getFinalQuizHTML(quizIcon,checkIcon,arrowRight,arrowLeft)+'</main></div>';
    }
    getTopic1HTML(infoIcon,quizIcon,checkIcon,arrowRight,arrowLeft){
        return '<div class="topic-content active" id="topic-1"><div class="lesson-card"><h2>The Psychology of Closing</h2><p>Closing is not about tricks or manipulation - it is about helping customers make a decision they will feel good about. Understanding the psychology behind buying decisions helps you close more sales while building trust and satisfaction.</p><h3>Why Customers Need Help Deciding</h3><p>Even when customers want to buy, several psychological factors can prevent them from taking action:</p><ul><li><strong>Decision fatigue:</strong> Too many choices lead to paralysis</li><li><strong>Fear of regret:</strong> Worry about making the wrong choice</li><li><strong>Loss aversion:</strong> Pain of spending money feels immediate; benefits feel distant</li><li><strong>Need for validation:</strong> Wanting confirmation they are making a good choice</li><li><strong>Procrastination:</strong> Defaulting to "later" when "now" feels hard</li></ul><p>Your job as a closer is to help customers overcome these barriers - not by pressuring them, but by making the decision easier and more comfortable.</p><div class="key-point"><strong>Key Insight</strong>The best closers do not "close" customers - they help customers close themselves. When you have done the earlier steps well, closing feels like a natural conclusion, not a high-pressure moment.</div><h3>The Mindset Shift</h3><p>Many salespeople fear closing because they see it as pushy. Reframe your thinking:</p><ul><li><strong>Old mindset:</strong> "I am trying to get them to buy"</li><li><strong>New mindset:</strong> "I am helping them get what they came for"</li></ul><p>If you have qualified properly and presented genuine solutions to real needs, asking for the sale is a service, not a sales tactic.</p><h3>When Closing Goes Wrong</h3><p>Closing feels pushy when:</p><ul><li>You have not built enough value first</li><li>You are closing on your timeline, not theirs</li><li>You are using manipulation instead of consultation</li><li>You ignore signals that they are not ready</li><li>You make it about your needs, not theirs</li></ul><div class="tip-box">'+infoIcon+'<div><strong>Pro Tip:</strong> If you dread closing, you probably did not build enough value earlier. Go back and strengthen your presentation skills - strong value makes closing easy.</div></div></div><div class="quiz-section" data-quiz="1"><div class="quiz-header"><div class="quiz-icon">'+quizIcon+'</div><div><div class="quiz-title">Knowledge Check</div><div class="quiz-subtitle">3 questions</div></div></div><div class="quiz-questions"><div class="question" data-correct="2"><div class="question-text"><span class="question-number">1.</span> What is the best way to think about closing?</div><div class="options"><div class="option" data-option="1"><span class="option-radio"></span><span class="option-text">Getting customers to do what you want</span></div><div class="option" data-option="2"><span class="option-radio"></span><span class="option-text">Helping customers get what they came for</span></div><div class="option" data-option="3"><span class="option-radio"></span><span class="option-text">Using pressure tactics</span></div><div class="option" data-option="4"><span class="option-radio"></span><span class="option-text">Tricking customers into buying</span></div></div><div class="feedback"></div></div><div class="question" data-correct="3"><div class="question-text"><span class="question-number">2.</span> Which psychological factor can prevent customers from deciding?</div><div class="options"><div class="option" data-option="1"><span class="option-radio"></span><span class="option-text">Too few choices</span></div><div class="option" data-option="2"><span class="option-radio"></span><span class="option-text">Low prices</span></div><div class="option" data-option="3"><span class="option-radio"></span><span class="option-text">Decision fatigue from too many options</span></div><div class="option" data-option="4"><span class="option-radio"></span><span class="option-text">Friendly service</span></div></div><div class="feedback"></div></div><div class="question" data-correct="1"><div class="question-text"><span class="question-number">3.</span> If you dread closing, what is likely the root cause?</div><div class="options"><div class="option" data-option="1"><span class="option-radio"></span><span class="option-text">You did not build enough value earlier</span></div><div class="option" data-option="2"><span class="option-radio"></span><span class="option-text">Customers are too smart</span></div><div class="option" data-option="3"><span class="option-radio"></span><span class="option-text">Your prices are too high</span></div><div class="option" data-option="4"><span class="option-radio"></span><span class="option-text">You need more closing tricks</span></div></div><div class="feedback"></div></div></div><div class="quiz-results"><div class="results-icon">'+checkIcon+'</div><h3 class="results-title">Quiz Complete!</h3><p class="results-score"></p></div><div class="quiz-actions"><button class="btn btn-primary submit-quiz">Check Answers</button><button class="btn btn-secondary retry-quiz hidden">Try Again</button></div></div><div class="nav-buttons"><div></div><button class="btn btn-primary next-topic" data-next="2">Next: Buying Signals '+arrowRight+'</button></div></div>';
    }
    getTopic2HTML(infoIcon,quizIcon,checkIcon,arrowRight,arrowLeft){
        return '<div class="topic-content" id="topic-2"><div class="lesson-card"><h2>Recognizing Buying Signals</h2><p>Timing is everything in closing. Close too early and you seem pushy; close too late and you miss the moment. Learning to recognize buying signals helps you know exactly when to move toward a decision.</p><h3>Verbal Buying Signals</h3><p>Listen for language that indicates readiness:</p><ul><li><strong>Ownership language:</strong> "When I wear these..." "My new glasses will..."</li><li><strong>Future visualization:</strong> "I can see myself wearing these to work"</li><li><strong>Logistics questions:</strong> "How long until they are ready?" "Do you deliver?"</li><li><strong>Payment questions:</strong> "Can I use my HSA?" "What does my insurance cover?"</li><li><strong>Commitment signals:</strong> "I think I have decided" "This is the one"</li><li><strong>Seeking reassurance:</strong> "These really are good quality, right?"</li></ul><div class="key-point"><strong>Key Insight</strong>When customers start talking about the purchase as if it has already happened ("When I wear these..."), they have mentally bought. Your job is to make it official.</div><h3>Non-Verbal Buying Signals</h3><p>Watch body language for readiness cues:</p><ul><li><strong>Extended handling:</strong> Reluctance to put frames down</li><li><strong>Multiple mirror checks:</strong> Repeatedly looking at themselves</li><li><strong>Nodding:</strong> Agreement while you talk about benefits</li><li><strong>Relaxed posture:</strong> Comfort and openness</li><li><strong>Leaning forward:</strong> Engagement and interest</li><li><strong>Reaching for wallet/phone:</strong> Preparing to transact</li></ul><h3>Context Signals</h3><p>Situational cues that suggest readiness:</p><ul><li>They have narrowed down to one or two options</li><li>They have addressed all their concerns through questions</li><li>They have mentioned a timeline or event</li><li>They have already invested significant time with you</li><li>They have involved a family member in the decision</li></ul><h3>Reading the Moment</h3><p>Buying signals often cluster together. When you see multiple signals at once, it is time to close:</p><ul><li>They are wearing the frames and will not take them off</li><li>They are asking about turnaround time</li><li>They are nodding and smiling</li><li>This combination = green light to close</li></ul><div class="tip-box">'+infoIcon+'<div><strong>Pro Tip:</strong> When you see a buying signal, test it with a closing question. If they respond positively, proceed. If not, address any remaining concerns and watch for the next signal.</div></div></div><div class="quiz-section" data-quiz="2"><div class="quiz-header"><div class="quiz-icon">'+quizIcon+'</div><div><div class="quiz-title">Knowledge Check</div><div class="quiz-subtitle">3 questions</div></div></div><div class="quiz-questions"><div class="question" data-correct="2"><div class="question-text"><span class="question-number">1.</span> "When I wear these to my meeting..." is an example of:</div><div class="options"><div class="option" data-option="1"><span class="option-radio"></span><span class="option-text">An objection</span></div><div class="option" data-option="2"><span class="option-radio"></span><span class="option-text">Ownership language (buying signal)</span></div><div class="option" data-option="3"><span class="option-radio"></span><span class="option-text">A request for discount</span></div><div class="option" data-option="4"><span class="option-radio"></span><span class="option-text">Disinterest</span></div></div><div class="feedback"></div></div><div class="question" data-correct="4"><div class="question-text"><span class="question-number">2.</span> Which is a strong non-verbal buying signal?</div><div class="options"><div class="option" data-option="1"><span class="option-radio"></span><span class="option-text">Checking their phone repeatedly</span></div><div class="option" data-option="2"><span class="option-radio"></span><span class="option-text">Crossing their arms</span></div><div class="option" data-option="3"><span class="option-radio"></span><span class="option-text">Looking toward the exit</span></div><div class="option" data-option="4"><span class="option-radio"></span><span class="option-text">Reluctance to put frames down</span></div></div><div class="feedback"></div></div><div class="question" data-correct="1"><div class="question-text"><span class="question-number">3.</span> What should you do when you see multiple buying signals?</div><div class="options"><div class="option" data-option="1"><span class="option-radio"></span><span class="option-text">Move to close the sale</span></div><div class="option" data-option="2"><span class="option-radio"></span><span class="option-text">Show them more options</span></div><div class="option" data-option="3"><span class="option-radio"></span><span class="option-text">Wait for them to ask to buy</span></div><div class="option" data-option="4"><span class="option-radio"></span><span class="option-text">Start the presentation over</span></div></div><div class="feedback"></div></div></div><div class="quiz-results"><div class="results-icon">'+checkIcon+'</div><h3 class="results-title">Quiz Complete!</h3><p class="results-score"></p></div><div class="quiz-actions"><button class="btn btn-primary submit-quiz">Check Answers</button><button class="btn btn-secondary retry-quiz hidden">Try Again</button></div></div><div class="nav-buttons"><button class="btn btn-secondary prev-topic" data-prev="1">'+arrowLeft+' Previous</button><button class="btn btn-primary next-topic" data-next="3">Next: Techniques '+arrowRight+'</button></div></div>';
    }
    getTopic3HTML(infoIcon,quizIcon,checkIcon,arrowRight,arrowLeft){
        return '<div class="topic-content" id="topic-3"><div class="lesson-card"><h2>Closing Techniques</h2><p>While the best closes feel natural, having a toolkit of techniques gives you flexibility to match your approach to different customers and situations. Here are proven methods that work in optical retail.</p><h3>The Assumptive Close</h3><p>Proceed as if they have already decided to buy:</p><ul><li>"Let me get your measurements so we can order these"</li><li>"Which case would you like with these - the hard shell or the soft pouch?"</li><li>"I will start processing your insurance while you look at cases"</li></ul><p><strong>Best for:</strong> Customers who have shown clear buying signals and just need a gentle push forward.</p><h3>The Summary Close</h3><p>Recap the value before asking for commitment:</p><ul><li>"So we have the lightweight titanium frames you loved, with progressive lenses that will work for both computer and driving, plus the blue light protection for your long work days. Ready to move forward?"</li></ul><p><strong>Best for:</strong> Complex purchases where reminding them of all the benefits reinforces the decision.</p><div class="key-point"><strong>Key Insight</strong>The summary close works because it combats loss aversion. By listing everything they are getting, you shift focus from what they are spending to what they are gaining.</div><h3>The Alternative Close</h3><p>Give them a choice between two "yes" options:</p><ul><li>"Would you like the anti-reflective coating or the premium anti-reflective with the scratch warranty?"</li><li>"Do you want to pick these up, or should we ship them to your home?"</li><li>"Would you prefer to use your insurance now or save it for later in the year?"</li></ul><p><strong>Best for:</strong> Customers who struggle with decisions and need the choice simplified.</p><h3>The Urgency Close</h3><p>Highlight genuine time-sensitive factors:</p><ul><li>"Your insurance benefits expire at the end of the month - let us make sure you use them"</li><li>"This frame is limited edition and we only have two left"</li><li>"If we order today, you will have them before your trip"</li></ul><p><strong>Best for:</strong> Customers who procrastinate. Only use genuine urgency - never fabricate it.</p><h3>The Question Close</h3><p>Ask a question that leads to commitment:</p><ul><li>"Is there anything else you need to know before we get started?"</li><li>"Do you have any remaining concerns, or are we ready to move forward?"</li><li>"What would you need to see to feel confident about this decision today?"</li></ul><p><strong>Best for:</strong> Uncovering hidden objections or confirming readiness.</p><div class="tip-box">'+infoIcon+'<div><strong>Pro Tip:</strong> Do not memorize scripts - understand the principles. The best closes sound like natural conversation, not rehearsed techniques.</div></div></div><div class="quiz-section" data-quiz="3"><div class="quiz-header"><div class="quiz-icon">'+quizIcon+'</div><div><div class="quiz-title">Knowledge Check</div><div class="quiz-subtitle">3 questions</div></div></div><div class="quiz-questions"><div class="question" data-correct="1"><div class="question-text"><span class="question-number">1.</span> "Let me get your measurements so we can order these" is an example of:</div><div class="options"><div class="option" data-option="1"><span class="option-radio"></span><span class="option-text">The Assumptive Close</span></div><div class="option" data-option="2"><span class="option-radio"></span><span class="option-text">The Urgency Close</span></div><div class="option" data-option="3"><span class="option-radio"></span><span class="option-text">The Alternative Close</span></div><div class="option" data-option="4"><span class="option-radio"></span><span class="option-text">The Question Close</span></div></div><div class="feedback"></div></div><div class="question" data-correct="3"><div class="question-text"><span class="question-number">2.</span> The Alternative Close works by:</div><div class="options"><div class="option" data-option="1"><span class="option-radio"></span><span class="option-text">Creating fake urgency</span></div><div class="option" data-option="2"><span class="option-radio"></span><span class="option-text">Summarizing all benefits</span></div><div class="option" data-option="3"><span class="option-radio"></span><span class="option-text">Giving a choice between two "yes" options</span></div><div class="option" data-option="4"><span class="option-radio"></span><span class="option-text">Assuming they have decided</span></div></div><div class="feedback"></div></div><div class="question" data-correct="2"><div class="question-text"><span class="question-number">3.</span> When should you use the Urgency Close?</div><div class="options"><div class="option" data-option="1"><span class="option-radio"></span><span class="option-text">Always, to create pressure</span></div><div class="option" data-option="2"><span class="option-radio"></span><span class="option-text">Only when there is genuine time-sensitive factors</span></div><div class="option" data-option="3"><span class="option-radio"></span><span class="option-text">Never - it is manipulative</span></div><div class="option" data-option="4"><span class="option-radio"></span><span class="option-text">When you want to go home early</span></div></div><div class="feedback"></div></div></div><div class="quiz-results"><div class="results-icon">'+checkIcon+'</div><h3 class="results-title">Quiz Complete!</h3><p class="results-score"></p></div><div class="quiz-actions"><button class="btn btn-primary submit-quiz">Check Answers</button><button class="btn btn-secondary retry-quiz hidden">Try Again</button></div></div><div class="nav-buttons"><button class="btn btn-secondary prev-topic" data-prev="2">'+arrowLeft+' Previous</button><button class="btn btn-primary next-topic" data-next="4">Next: Asking '+arrowRight+'</button></div></div>';
    }
    getTopic4HTML(infoIcon,quizIcon,checkIcon,arrowRight,arrowLeft){
        return '<div class="topic-content" id="topic-4"><div class="lesson-card"><h2>Asking for the Sale</h2><p>Many salespeople do everything right - build rapport, qualify, present value - and then never actually ask for the sale. The most important closing skill is simply having the confidence to ask.</p><h3>Why Salespeople Do Not Ask</h3><p>Common fears that hold people back:</p><ul><li><strong>Fear of rejection:</strong> "What if they say no?"</li><li><strong>Fear of being pushy:</strong> "I do not want to pressure them"</li><li><strong>Fear of ruining rapport:</strong> "We were having such a nice conversation"</li><li><strong>Assuming they will ask:</strong> "If they want it, they will tell me"</li></ul><p>Here is the truth: customers expect you to ask. When you do not, they often feel uncertain and leave without buying - even if they wanted to.</p><div class="key-point"><strong>Key Insight</strong>Studies show that 60% of customers say "no" four times before saying "yes." Most salespeople give up after just one or two attempts. Polite persistence pays off.</div><h3>Simple Ways to Ask</h3><p>Asking does not have to be complicated:</p><ul><li>"Ready to go ahead with these?"</li><li>"Should we get started on your order?"</li><li>"Would you like to take these home today?"</li><li>"Can I ring these up for you?"</li><li>"Let us get you set up with these."</li></ul><h3>The Power of Silence</h3><p>After you ask, stop talking:</p><ul><li>The first person to speak after the close often "loses"</li><li>Silence gives them space to process and decide</li><li>Filling silence with more talking can undo your close</li><li>Count to 10 in your head if you need to</li></ul><h3>Handling "Not Yet"</h3><p>If they are not ready, do not panic:</p><ul><li>Ask what is holding them back (uncover the real objection)</li><li>Address the concern using LAER from Module 5</li><li>Try a different closing approach</li><li>If they are genuinely not ready, gracefully step back</li></ul><div class="tip-box">'+infoIcon+'<div><strong>Pro Tip:</strong> Practice asking for the sale out loud. The words should feel comfortable and natural. If they feel awkward, you will hesitate when it matters.</div></div></div><div class="quiz-section" data-quiz="4"><div class="quiz-header"><div class="quiz-icon">'+quizIcon+'</div><div><div class="quiz-title">Knowledge Check</div><div class="quiz-subtitle">3 questions</div></div></div><div class="quiz-questions"><div class="question" data-correct="4"><div class="question-text"><span class="question-number">1.</span> According to studies, how many times do customers often say "no" before saying "yes"?</div><div class="options"><div class="option" data-option="1"><span class="option-radio"></span><span class="option-text">Once</span></div><div class="option" data-option="2"><span class="option-radio"></span><span class="option-text">Twice</span></div><div class="option" data-option="3"><span class="option-radio"></span><span class="option-text">Never</span></div><div class="option" data-option="4"><span class="option-radio"></span><span class="option-text">Four times</span></div></div><div class="feedback"></div></div><div class="question" data-correct="2"><div class="question-text"><span class="question-number">2.</span> What should you do immediately after asking for the sale?</div><div class="options"><div class="option" data-option="1"><span class="option-radio"></span><span class="option-text">List more benefits</span></div><div class="option" data-option="2"><span class="option-radio"></span><span class="option-text">Stop talking and wait</span></div><div class="option" data-option="3"><span class="option-radio"></span><span class="option-text">Offer a discount</span></div><div class="option" data-option="4"><span class="option-radio"></span><span class="option-text">Show them another option</span></div></div><div class="feedback"></div></div><div class="question" data-correct="1"><div class="question-text"><span class="question-number">3.</span> Why is silence powerful after asking?</div><div class="options"><div class="option" data-option="1"><span class="option-radio"></span><span class="option-text">It gives them space to process and decide</span></div><div class="option" data-option="2"><span class="option-radio"></span><span class="option-text">It confuses them</span></div><div class="option" data-option="3"><span class="option-radio"></span><span class="option-text">It is rude and they will buy to end it</span></div><div class="option" data-option="4"><span class="option-radio"></span><span class="option-text">It has no real effect</span></div></div><div class="feedback"></div></div></div><div class="quiz-results"><div class="results-icon">'+checkIcon+'</div><h3 class="results-title">Quiz Complete!</h3><p class="results-score"></p></div><div class="quiz-actions"><button class="btn btn-primary submit-quiz">Check Answers</button><button class="btn btn-secondary retry-quiz hidden">Try Again</button></div></div><div class="nav-buttons"><button class="btn btn-secondary prev-topic" data-prev="3">'+arrowLeft+' Previous</button><button class="btn btn-primary next-topic" data-next="5">Next: After Close '+arrowRight+'</button></div></div>';
    }
    getTopic5HTML(infoIcon,quizIcon,checkIcon,arrowRight,arrowLeft){
        return '<div class="topic-content" id="topic-5"><div class="lesson-card"><h2>After the Close</h2><p>The sale is not over when they say "yes." What happens after the close determines whether you have made a one-time transaction or gained a loyal customer who refers others. The post-close experience is crucial.</p><h3>Confirm and Reassure</h3><p>Immediately after they commit:</p><ul><li><strong>Congratulate their decision:</strong> "Great choice - you are going to love these"</li><li><strong>Reduce buyer remorse:</strong> "These are one of our most popular frames for good reason"</li><li><strong>Confirm details:</strong> Review what they are getting to ensure clarity</li><li><strong>Thank them sincerely:</strong> "I really appreciate you trusting us with your eyewear"</li></ul><div class="key-point"><strong>Key Insight</strong>Buyer remorse peaks immediately after purchase. Proactive reassurance at this moment prevents cancellations and returns while building loyalty.</div><h3>Set Clear Expectations</h3><p>Prevent future disappointments by being clear:</p><ul><li><strong>Timeline:</strong> "Your glasses will be ready in 7-10 days"</li><li><strong>Process:</strong> "We will call you when they arrive, then schedule a fitting"</li><li><strong>Adaptation:</strong> "Progressives may take a few days to adjust to - that is normal"</li><li><strong>Care:</strong> "Here is how to clean and store them properly"</li><li><strong>Warranty:</strong> "You are covered for scratches for the first year"</li></ul><h3>Plant Seeds for the Future</h3><p>Build the relationship beyond this sale:</p><ul><li><strong>Mention add-ons:</strong> "When you are ready, we have prescription sunglasses that work great with your lifestyle"</li><li><strong>Schedule follow-up:</strong> "Let us book your adjustment appointment now"</li><li><strong>Encourage reviews:</strong> "If you love them, we would appreciate a Google review"</li><li><strong>Ask for referrals:</strong> "We love referrals - if you know anyone who needs eyewear..."</li></ul><h3>The Handoff</h3><p>If someone else handles checkout or dispensing:</p><ul><li>Introduce the customer by name</li><li>Summarize what they purchased and why</li><li>Share any personal details to maintain connection</li><li>Do not disappear - stay available for questions</li></ul><h3>Follow Up</h3><p>After they leave:</p><ul><li>Send a thank-you message (email, text, or handwritten note)</li><li>Check in after they have had the glasses for a week</li><li>Address any issues quickly and generously</li><li>Remember them when they return</li></ul><div class="tip-box">'+infoIcon+'<div><strong>Pro Tip:</strong> The sale you make today is easier than finding a new customer tomorrow. Invest in the post-close experience - it is where referrals and repeat business come from.</div></div></div><div class="quiz-section" data-quiz="5"><div class="quiz-header"><div class="quiz-icon">'+quizIcon+'</div><div><div class="quiz-title">Knowledge Check</div><div class="quiz-subtitle">3 questions</div></div></div><div class="quiz-questions"><div class="question" data-correct="3"><div class="question-text"><span class="question-number">1.</span> When does buyer remorse typically peak?</div><div class="options"><div class="option" data-option="1"><span class="option-radio"></span><span class="option-text">A week after purchase</span></div><div class="option" data-option="2"><span class="option-radio"></span><span class="option-text">When they pick up the product</span></div><div class="option" data-option="3"><span class="option-radio"></span><span class="option-text">Immediately after purchase</span></div><div class="option" data-option="4"><span class="option-radio"></span><span class="option-text">Buyer remorse does not exist</span></div></div><div class="feedback"></div></div><div class="question" data-correct="2"><div class="question-text"><span class="question-number">2.</span> Why is setting clear expectations important?</div><div class="options"><div class="option" data-option="1"><span class="option-radio"></span><span class="option-text">It speeds up checkout</span></div><div class="option" data-option="2"><span class="option-radio"></span><span class="option-text">It prevents future disappointments</span></div><div class="option" data-option="3"><span class="option-radio"></span><span class="option-text">It is legally required</span></div><div class="option" data-option="4"><span class="option-radio"></span><span class="option-text">It fills time</span></div></div><div class="feedback"></div></div><div class="question" data-correct="4"><div class="question-text"><span class="question-number">3.</span> Why invest in the post-close experience?</div><div class="options"><div class="option" data-option="1"><span class="option-radio"></span><span class="option-text">Company policy requires it</span></div><div class="option" data-option="2"><span class="option-radio"></span><span class="option-text">It has no real benefit</span></div><div class="option" data-option="3"><span class="option-radio"></span><span class="option-text">Customers expect it</span></div><div class="option" data-option="4"><span class="option-radio"></span><span class="option-text">It is where referrals and repeat business come from</span></div></div><div class="feedback"></div></div></div><div class="quiz-results"><div class="results-icon">'+checkIcon+'</div><h3 class="results-title">Quiz Complete!</h3><p class="results-score"></p></div><div class="quiz-actions"><button class="btn btn-primary submit-quiz">Check Answers</button><button class="btn btn-secondary retry-quiz hidden">Try Again</button></div></div><div class="nav-buttons"><button class="btn btn-secondary prev-topic" data-prev="4">'+arrowLeft+' Previous</button><button class="btn btn-primary next-topic" data-next="final">Take Final Quiz '+arrowRight+'</button></div></div>';
    }
    getFinalQuizHTML(quizIcon,checkIcon,arrowRight,arrowLeft){
        return '<div class="topic-content" id="topic-final"><div class="quiz-section"><div class="final-quiz-intro" id="finalQuizIntro"><h2>Module 6 Final Quiz</h2><p>Test your knowledge of closing techniques. You need 70% to complete the module and the entire Sales Techniques course!</p><div class="final-quiz-stats"><div class="stat-item"><div class="stat-value">10</div><div class="stat-label">Questions</div></div><div class="stat-item"><div class="stat-value">70%</div><div class="stat-label">Passing Score</div></div></div><button class="btn btn-primary" id="startFinalQuiz">Start Final Quiz</button></div><div class="hidden" id="finalQuizContent"><div class="quiz-header"><div class="quiz-icon">'+quizIcon+'</div><div><div class="quiz-title">Final Quiz</div><div class="quiz-subtitle">10 questions - All topics</div></div></div><div class="quiz-questions"><div class="question" data-correct="2"><div class="question-text"><span class="question-number">1.</span> The best way to think about closing is:</div><div class="options"><div class="option" data-option="1"><span class="option-radio"></span><span class="option-text">Getting customers to do what you want</span></div><div class="option" data-option="2"><span class="option-radio"></span><span class="option-text">Helping customers get what they came for</span></div><div class="option" data-option="3"><span class="option-radio"></span><span class="option-text">Using pressure tactics</span></div><div class="option" data-option="4"><span class="option-radio"></span><span class="option-text">Avoiding the subject</span></div></div><div class="feedback"></div></div><div class="question" data-correct="3"><div class="question-text"><span class="question-number">2.</span> "When I wear these to work..." indicates:</div><div class="options"><div class="option" data-option="1"><span class="option-radio"></span><span class="option-text">An objection</span></div><div class="option" data-option="2"><span class="option-radio"></span><span class="option-text">Disinterest</span></div><div class="option" data-option="3"><span class="option-radio"></span><span class="option-text">Ownership language (buying signal)</span></div><div class="option" data-option="4"><span class="option-radio"></span><span class="option-text">Price concern</span></div></div><div class="feedback"></div></div><div class="question" data-correct="1"><div class="question-text"><span class="question-number">3.</span> "Let me get your measurements" is an example of:</div><div class="options"><div class="option" data-option="1"><span class="option-radio"></span><span class="option-text">The Assumptive Close</span></div><div class="option" data-option="2"><span class="option-radio"></span><span class="option-text">The Urgency Close</span></div><div class="option" data-option="3"><span class="option-radio"></span><span class="option-text">The Question Close</span></div><div class="option" data-option="4"><span class="option-radio"></span><span class="option-text">The Summary Close</span></div></div><div class="feedback"></div></div><div class="question" data-correct="3"><div class="question-text"><span class="question-number">4.</span> The Alternative Close works by:</div><div class="options"><div class="option" data-option="1"><span class="option-radio"></span><span class="option-text">Creating urgency</span></div><div class="option" data-option="2"><span class="option-radio"></span><span class="option-text">Summarizing benefits</span></div><div class="option" data-option="3"><span class="option-radio"></span><span class="option-text">Giving a choice between two "yes" options</span></div><div class="option" data-option="4"><span class="option-radio"></span><span class="option-text">Asking questions</span></div></div><div class="feedback"></div></div><div class="question" data-correct="4"><div class="question-text"><span class="question-number">5.</span> Customers often say "no" how many times before "yes"?</div><div class="options"><div class="option" data-option="1"><span class="option-radio"></span><span class="option-text">Once</span></div><div class="option" data-option="2"><span class="option-radio"></span><span class="option-text">Twice</span></div><div class="option" data-option="3"><span class="option-radio"></span><span class="option-text">Never</span></div><div class="option" data-option="4"><span class="option-radio"></span><span class="option-text">Four times</span></div></div><div class="feedback"></div></div><div class="question" data-correct="2"><div class="question-text"><span class="question-number">6.</span> After asking for the sale, you should:</div><div class="options"><div class="option" data-option="1"><span class="option-radio"></span><span class="option-text">List more benefits</span></div><div class="option" data-option="2"><span class="option-radio"></span><span class="option-text">Stop talking and wait</span></div><div class="option" data-option="3"><span class="option-radio"></span><span class="option-text">Offer a discount</span></div><div class="option" data-option="4"><span class="option-radio"></span><span class="option-text">Ask another question</span></div></div><div class="feedback"></div></div><div class="question" data-correct="1"><div class="question-text"><span class="question-number">7.</span> Buyer remorse peaks:</div><div class="options"><div class="option" data-option="1"><span class="option-radio"></span><span class="option-text">Immediately after purchase</span></div><div class="option" data-option="2"><span class="option-radio"></span><span class="option-text">A week later</span></div><div class="option" data-option="3"><span class="option-radio"></span><span class="option-text">At pickup</span></div><div class="option" data-option="4"><span class="option-radio"></span><span class="option-text">It does not exist</span></div></div><div class="feedback"></div></div><div class="question" data-correct="2"><div class="question-text"><span class="question-number">8.</span> Setting clear expectations prevents:</div><div class="options"><div class="option" data-option="1"><span class="option-radio"></span><span class="option-text">Sales</span></div><div class="option" data-option="2"><span class="option-radio"></span><span class="option-text">Future disappointments</span></div><div class="option" data-option="3"><span class="option-radio"></span><span class="option-text">Referrals</span></div><div class="option" data-option="4"><span class="option-radio"></span><span class="option-text">Returns</span></div></div><div class="feedback"></div></div><div class="question" data-correct="3"><div class="question-text"><span class="question-number">9.</span> The post-close experience is important because:</div><div class="options"><div class="option" data-option="1"><span class="option-radio"></span><span class="option-text">It is legally required</span></div><div class="option" data-option="2"><span class="option-radio"></span><span class="option-text">It has no real benefit</span></div><div class="option" data-option="3"><span class="option-radio"></span><span class="option-text">It generates referrals and repeat business</span></div><div class="option" data-option="4"><span class="option-radio"></span><span class="option-text">Company policy</span></div></div><div class="feedback"></div></div><div class="question" data-correct="1"><div class="question-text"><span class="question-number">10.</span> If you dread closing, you likely need to:</div><div class="options"><div class="option" data-option="1"><span class="option-radio"></span><span class="option-text">Build more value during presentation</span></div><div class="option" data-option="2"><span class="option-radio"></span><span class="option-text">Learn more tricks</span></div><div class="option" data-option="3"><span class="option-radio"></span><span class="option-text">Lower your prices</span></div><div class="option" data-option="4"><span class="option-radio"></span><span class="option-text">Avoid closing altogether</span></div></div><div class="feedback"></div></div></div><div class="quiz-results" id="finalQuizResults"><div class="results-icon">'+checkIcon+'</div><h3 class="results-title"></h3><p class="results-score"></p></div><div class="quiz-actions"><button class="btn btn-primary" id="submitFinalQuiz">Submit Final Quiz</button><button class="btn btn-secondary hidden" id="retryFinalQuiz">Try Again</button></div></div><div class="completion-banner hidden" id="completionBanner"><h3>Congratulations!</h3><p>You have completed the entire Sales Techniques course! You now have the skills to prospect, qualify, engage, present, handle objections, and close with confidence.</p><a href="https://www.opticalowners.com/training" class="btn">Return to Training</a></div></div><div class="nav-buttons"><button class="btn btn-secondary prev-topic" data-prev="5">'+arrowLeft+' Back to Topics</button><div></div></div></div>';
    }
    initializeComponent(){var shadow=this.shadowRoot;var self=this;var state={completed:[],current:1};var totalTopics=5;function updateProgress(){var pct=Math.round((state.completed.length/(totalTopics+1))*100);shadow.getElementById('progressFill').style.width=pct+'%';shadow.getElementById('progressText').textContent=pct+'% Complete'}function markTopicComplete(num){if(state.completed.indexOf(num)===-1){state.completed.push(num);updateProgress()}var tabs=shadow.querySelectorAll('.topic-tab');for(var i=0;i<tabs.length;i++){if(tabs[i].getAttribute('data-topic')===String(num)&&num!=='final'){tabs[i].classList.add('completed')}}}function showTopic(id){var contents=shadow.querySelectorAll('.topic-content');for(var i=0;i<contents.length;i++){contents[i].classList.remove('active')}var tabs=shadow.querySelectorAll('.topic-tab');for(var i=0;i<tabs.length;i++){tabs[i].classList.remove('active')}shadow.getElementById('topic-'+id).classList.add('active');var targetTabs=shadow.querySelectorAll('.topic-tab');for(var i=0;i<targetTabs.length;i++){if(targetTabs[i].getAttribute('data-topic')===String(id)){targetTabs[i].classList.add('active')}}state.current=id;self.scrollIntoView({behavior:'smooth',block:'start'})}var topicTabs=shadow.querySelectorAll('.topic-tab');for(var i=0;i<topicTabs.length;i++){(function(tab){tab.addEventListener('click',function(){showTopic(tab.getAttribute('data-topic'))})})(topicTabs[i])}var nextBtns=shadow.querySelectorAll('.next-topic');for(var i=0;i<nextBtns.length;i++){(function(btn){btn.addEventListener('click',function(){showTopic(btn.getAttribute('data-next'))})})(nextBtns[i])}var prevBtns=shadow.querySelectorAll('.prev-topic');for(var i=0;i<prevBtns.length;i++){(function(btn){btn.addEventListener('click',function(){showTopic(btn.getAttribute('data-prev'))})})(prevBtns[i])}var quizSections=shadow.querySelectorAll('.quiz-section[data-quiz]');for(var q=0;q<quizSections.length;q++){(function(quiz){var questions=quiz.querySelectorAll('.question');var submitBtn=quiz.querySelector('.submit-quiz');var retryBtn=quiz.querySelector('.retry-quiz');var resultsDiv=quiz.querySelector('.quiz-results');if(!submitBtn)return;for(var j=0;j<questions.length;j++){(function(question){var options=question.querySelectorAll('.option');for(var k=0;k<options.length;k++){(function(opt){opt.addEventListener('click',function(){if(question.classList.contains('answered'))return;var allOpts=question.querySelectorAll('.option');for(var m=0;m<allOpts.length;m++){allOpts[m].classList.remove('selected')}opt.classList.add('selected')})})(options[k])}})(questions[j])}submitBtn.addEventListener('click',function(){var correct=0;for(var j=0;j<questions.length;j++){var q2=questions[j];q2.classList.add('answered');var correctAns=q2.getAttribute('data-correct');var selected=q2.querySelector('.option.selected');var feedback=q2.querySelector('.feedback');if(selected){if(selected.getAttribute('data-option')===correctAns){correct++;selected.classList.add('correct');feedback.textContent='Correct!';feedback.className='feedback show correct'}else{selected.classList.add('incorrect');var correctOpts=q2.querySelectorAll('.option');for(var m=0;m<correctOpts.length;m++){if(correctOpts[m].getAttribute('data-option')===correctAns){correctOpts[m].classList.add('correct')}}feedback.textContent='Incorrect';feedback.className='feedback show incorrect'}}else{var correctOpts2=q2.querySelectorAll('.option');for(var m=0;m<correctOpts2.length;m++){if(correctOpts2[m].getAttribute('data-option')===correctAns){correctOpts2[m].classList.add('correct')}}feedback.textContent='No answer selected';feedback.className='feedback show incorrect'}}var total=questions.length;var pct=Math.round((correct/total)*100);var passed=pct>=70;resultsDiv.querySelector('.results-score').textContent='You scored '+correct+'/'+total+' ('+pct+'%)';resultsDiv.querySelector('.results-icon').className='results-icon '+(passed?'pass':'fail');resultsDiv.querySelector('.results-title').textContent=passed?'Great Job!':'Keep Practicing';resultsDiv.classList.add('show');submitBtn.classList.add('hidden');retryBtn.classList.remove('hidden');if(passed){var quizNum=quiz.getAttribute('data-quiz');if(quizNum)markTopicComplete(parseInt(quizNum))}});retryBtn.addEventListener('click',function(){for(var j=0;j<questions.length;j++){questions[j].classList.remove('answered');var opts=questions[j].querySelectorAll('.option');for(var k=0;k<opts.length;k++){opts[k].classList.remove('selected','correct','incorrect')}questions[j].querySelector('.feedback').className='feedback'}resultsDiv.classList.remove('show');retryBtn.classList.add('hidden');submitBtn.classList.remove('hidden')})})(quizSections[q])}var startFinalBtn=shadow.getElementById('startFinalQuiz');var finalQuizIntro=shadow.getElementById('finalQuizIntro');var finalQuizContent=shadow.getElementById('finalQuizContent');var submitFinalBtn=shadow.getElementById('submitFinalQuiz');var retryFinalBtn=shadow.getElementById('retryFinalQuiz');var completionBanner=shadow.getElementById('completionBanner');var finalResults=shadow.getElementById('finalQuizResults');if(startFinalBtn){startFinalBtn.addEventListener('click',function(){finalQuizIntro.classList.add('hidden');finalQuizContent.classList.remove('hidden')})}if(submitFinalBtn){var finalQuestions=finalQuizContent.querySelectorAll('.question');for(var i=0;i<finalQuestions.length;i++){(function(question){var options=question.querySelectorAll('.option');for(var k=0;k<options.length;k++){(function(opt){opt.addEventListener('click',function(){if(question.classList.contains('answered'))return;var allOpts=question.querySelectorAll('.option');for(var m=0;m<allOpts.length;m++){allOpts[m].classList.remove('selected')}opt.classList.add('selected')})})(options[k])}})(finalQuestions[i])}submitFinalBtn.addEventListener('click',function(){var correct=0;for(var j=0;j<finalQuestions.length;j++){var q2=finalQuestions[j];q2.classList.add('answered');var correctAns=q2.getAttribute('data-correct');var selected=q2.querySelector('.option.selected');var feedback=q2.querySelector('.feedback');if(selected){if(selected.getAttribute('data-option')===correctAns){correct++;selected.classList.add('correct');feedback.textContent='Correct!';feedback.className='feedback show correct'}else{selected.classList.add('incorrect');var correctOpts=q2.querySelectorAll('.option');for(var m=0;m<correctOpts.length;m++){if(correctOpts[m].getAttribute('data-option')===correctAns){correctOpts[m].classList.add('correct')}}feedback.textContent='Incorrect';feedback.className='feedback show incorrect'}}else{var correctOpts2=q2.querySelectorAll('.option');for(var m=0;m<correctOpts2.length;m++){if(correctOpts2[m].getAttribute('data-option')===correctAns){correctOpts2[m].classList.add('correct')}}feedback.textContent='No answer selected';feedback.className='feedback show incorrect'}}var pct=Math.round((correct/10)*100);var passed=pct>=70;finalResults.querySelector('.results-score').textContent='You scored '+correct+'/10 ('+pct+'%)';finalResults.querySelector('.results-icon').className='results-icon '+(passed?'pass':'fail');finalResults.querySelector('.results-title').textContent=passed?'Course Complete!':'Not Quite';finalResults.classList.add('show');submitFinalBtn.classList.add('hidden');if(passed){markTopicComplete('final');completionBanner.classList.remove('hidden')}else{retryFinalBtn.classList.remove('hidden')}});retryFinalBtn.addEventListener('click',function(){for(var j=0;j<finalQuestions.length;j++){finalQuestions[j].classList.remove('answered');var opts=finalQuestions[j].querySelectorAll('.option');for(var k=0;k<opts.length;k++){opts[k].classList.remove('selected','correct','incorrect')}finalQuestions[j].querySelector('.feedback').className='feedback'}finalResults.classList.remove('show');retryFinalBtn.classList.add('hidden');submitFinalBtn.classList.remove('hidden')})}updateProgress()}
    disconnectedCallback(){if(this.shadowRoot){this.shadowRoot.innerHTML=''}}
}
customElements.define('course-module-6',CourseModule6);
